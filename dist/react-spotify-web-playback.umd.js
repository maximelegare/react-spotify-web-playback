(function(T,l){typeof exports=="object"&&typeof module<"u"?l(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],l):(T=typeof globalThis<"u"?globalThis:T||self,l(T["react-spotity-web-playback"]={},T.React))})(this,function(T,l){"use strict";var Xr=Object.defineProperty;var Gr=(T,l,j)=>l in T?Xr(T,l,{enumerable:!0,configurable:!0,writable:!0,value:j}):T[l]=j;var w=(T,l,j)=>(Gr(T,typeof l!="symbol"?l+"":l,j),j);function j(e){const r=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const t=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,t.get?t:{enumerable:!0,get:()=>e[n]})}}return r.default=e,Object.freeze(r)}const z=j(l);function we(e){return function(r){return typeof r===e}}var lt=we("function"),ct=function(e){return e===null},Se=function(e){return Object.prototype.toString.call(e).slice(8,-1)==="RegExp"},Ee=function(e){return!ut(e)&&!ct(e)&&(lt(e)||typeof e=="object")},ut=we("undefined"),ae=globalThis&&globalThis.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&e[r],t=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function dt(e,r){var n=e.length;if(n!==r.length)return!1;for(var t=n;t--!==0;)if(!L(e[t],r[t]))return!1;return!0}function ft(e,r){if(e.byteLength!==r.byteLength)return!1;for(var n=new DataView(e.buffer),t=new DataView(r.buffer),i=e.byteLength;i--;)if(n.getUint8(i)!==t.getUint8(i))return!1;return!0}function ht(e,r){var n,t,i,a;if(e.size!==r.size)return!1;try{for(var s=ae(e.entries()),o=s.next();!o.done;o=s.next()){var c=o.value;if(!r.has(c[0]))return!1}}catch(d){n={error:d}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}try{for(var u=ae(e.entries()),f=u.next();!f.done;f=u.next()){var c=f.value;if(!L(c[1],r.get(c[0])))return!1}}catch(d){i={error:d}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return!0}function pt(e,r){var n,t;if(e.size!==r.size)return!1;try{for(var i=ae(e.entries()),a=i.next();!a.done;a=i.next()){var s=a.value;if(!r.has(s[0]))return!1}}catch(o){n={error:o}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(n)throw n.error}}return!0}function L(e,r){if(e===r)return!0;if(e&&Ee(e)&&r&&Ee(r)){if(e.constructor!==r.constructor)return!1;if(Array.isArray(e)&&Array.isArray(r))return dt(e,r);if(e instanceof Map&&r instanceof Map)return ht(e,r);if(e instanceof Set&&r instanceof Set)return pt(e,r);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return ft(e,r);if(Se(e)&&Se(r))return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();var n=Object.keys(e),t=Object.keys(r);if(n.length!==t.length)return!1;for(var i=n.length;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[i]))return!1;for(var i=n.length;i--!==0;){var a=n[i];if(!(a==="_owner"&&e.$$typeof)&&!L(e[a],r[a]))return!1}return!0}return Number.isNaN(e)&&Number.isNaN(r)?!0:e===r}var ke=Number.isNaN||function(r){return typeof r=="number"&&r!==r};function mt(e,r){return!!(e===r||ke(e)&&ke(r))}function gt(e,r){if(e.length!==r.length)return!1;for(var n=0;n<e.length;n++)if(!mt(e[n],r[n]))return!1;return!0}function yt(e,r){r===void 0&&(r=gt);var n=null;function t(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&r(i,n.lastArgs))return n.lastResult;var s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return t.clear=function(){n=null},t}var vt=/[A-Z]/g,bt=function(e){for(var r=5381,n=e.length;n;)r=r*33^e.charCodeAt(--n);return"_"+(r>>>0).toString(36)},xt=function(e){e=e||{};var r=e.assign||Object.assign,n=typeof window=="object";process.env.NODE_ENV!=="production"&&n&&(typeof document!="object"||!document.getElementsByTagName("HTML"))&&console.error('nano-css detected browser environment because of "window" global, but "document" global seems to be defective.');var t=r({raw:"",pfx:"_",client:n,assign:r,stringify:JSON.stringify,kebab:function(i){return i.replace(vt,"-$&").toLowerCase()},decl:function(i,a){return i=t.kebab(i),i+":"+a+";"},hash:function(i){return bt(t.stringify(i))},selector:function(i,a){return i+(a[0]===":"?"":" ")+a},putRaw:function(i){t.raw+=i}},e);return t.client&&(t.sh||document.head.appendChild(t.sh=document.createElement("style")),process.env.NODE_ENV!=="production"&&(t.sh.setAttribute("data-nano-css-dev",""),t.shTest=document.createElement("style"),t.shTest.setAttribute("data-nano-css-dev-tests",""),document.head.appendChild(t.shTest)),t.putRaw=function(i){if(process.env.NODE_ENV==="production"){var a=t.sh.sheet;try{a.insertRule(i,a.cssRules.length)}catch{}}else{try{t.shTest.sheet.insertRule(i,t.shTest.sheet.cssRules.length)}catch(s){e.verbose&&console.error(s)}t.sh.appendChild(document.createTextNode(i))}}),t.put=function(i,a,s){var o="",c,u,f=[];for(c in a)u=a[c],u instanceof Object&&!(u instanceof Array)?f.push(c):process.env.NODE_ENV!=="production"&&!t.sourcemaps?o+="    "+t.decl(c,u,i,s)+`
`:o+=t.decl(c,u,i,s);o&&(process.env.NODE_ENV!=="production"&&!t.sourcemaps?o=`
`+i+` {
`+o+`}
`:o=i+"{"+o+"}",t.putRaw(s?s+"{"+o+"}":o));for(var d=0;d<f.length;d++)c=f[d],c[0]==="@"&&c!=="@font-face"?t.putAt(i,a[c],c):t.put(t.selector(i,c),a[c],s)},t.putAt=t.put,t},Me={};Me.addon=function(e){var r={};e.cache=function(n){if(!n)return"";var t=e.hash(n);return r[t]||(r[t]=e.rule(n,t)),r[t]}};var oe,Ce;function q(){if(Ce)return oe;Ce=1;var e="nano-css";return oe=function(n,t,i){for(var a=[],s=0;s<i.length;s++){var o=i[s];t[o]||a.push(o)}if(a.length){for(var c='Addon "'+n+'" is missing the following dependencies:',u=0;u<a.length;u++)c+=`
 require("`+e+"/addon/"+a[u]+'").addon(nano);';throw new Error(c)}},oe}var wt=Me.addon,St=function(e){e.cache||wt(e),process.env.NODE_ENV!=="production"&&q()("jsx",e,["rule","cache"]),e.jsx=function(r,n,t){var i,a=typeof r=="string";process.env.NODE_ENV!=="production"&&(i=e.rule(n,t));var s=function(o){i||(i=e.rule(n,t));var c=o,u=c.$as,f=c.$ref;process.env.NODE_ENV!=="production"&&(c=e.assign({},o));var d=e.cache(o.css);return delete c.css,delete c.$as,(a||u)&&(delete c.$ref,c.ref=f),c.className=(o.className||"")+i+d,a||u?e.h(u||r,c):r(c)};return process.env.NODE_ENV!=="production"&&t&&(s.displayName="jsx("+t+")"),s}},Et=function(e,r){process.env.NODE_ENV!=="production"&&q()("keyframes",e,["putRaw","put"]),r=e.assign({prefixes:["-webkit-","-moz-","-o-",""]},r||{});var n=r.prefixes;e.client&&document.head.appendChild(e.ksh=document.createElement("style"));var t=e.putAt;e.putAt=function(i,a,s){if(s[1]==="k"){var o="";for(var c in a){var u=a[c],f="";for(var d in u)f+=e.decl(d,u[d]);o+=c+"{"+f+"}"}for(var m=0;m<n.length;m++){var b=n[m],p=s.replace("@keyframes","@"+b+"keyframes")+"{"+o+"}";e.client?e.ksh.appendChild(document.createTextNode(p)):e.putRaw(p)}return}t(i,a,s)},e.keyframes=function(i,a){return a||(a=e.hash(i)),a=e.pfx+a,e.putAt("",i,"@keyframes "+a),a}},kt=function(e){e.selector=function(r,n){var t=r.split(","),i=[],a=n.split(","),s=t.length,o=a.length,c,u,f,d,m,b;for(c=0;c<o;c++)if(f=a[c],d=f.indexOf("&"),d>-1)for(u=0;u<s;u++)m=t[u],b=f.replace(/&/g,m),i.push(b);else for(u=0;u<s;u++)m=t[u],m?i.push(m+" "+f):i.push(f);return i.join(",")}},Mt=function(e){process.env.NODE_ENV!=="production"&&q()("rule",e,["put"]);var r;process.env.NODE_ENV!=="production"&&(r={}),e.rule=function(n,t){if(process.env.NODE_ENV!=="production"&&t){if(typeof t!="string")throw new TypeError('nano-css block name must be a string. For example, use nano.rule({color: "red", "RedText").');r[t]&&console.error('Block name "'+t+'" used more than once.'),r[t]=1}return t=t||e.hash(n),t=e.pfx+t,e.put("."+t,n)," "+t}},Ct=function(e){process.env.NODE_ENV!=="production"&&q()("style",e,["jsx"]),e.style=function(r,n,t,i){var a=e.jsx(r,n,i),s=function(o){var c=o;return process.env.NODE_ENV!=="production"&&(c=Object.assign({},o)),t&&(c.css=t(o)),a(c)};return process.env.NODE_ENV!=="production"&&(i||typeof r=="function")&&(s.displayName="style("+(i||r.displayName||r.name)+")"),s}},Ie=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],It=function(e){process.env.NODE_ENV!=="production"&&q()("styled",e,["style"]);for(var r=function(i){return function(a,s,o){return e.style(i,a,s,o)}},n,t=0;t<Ie.length;t++)n=Ie[t],r[n]=r(n);e.styled=r};const $=xt({h:l.createElement});Mt($),Et($),St($),Ct($),It($),kt($);const{keyframes:At,put:Kr,styled:O}=$,h=e=>typeof e=="number"?`${e}px`:e,Dt=O("div")({alignItems:"center",display:"flex",justifyContent:"flex-end","pointer-events":"none"},({style:e})=>{let r={bottom:0,position:"absolute",right:0,width:"auto"};return e.layout==="responsive"&&(r={"@media (max-width: 767px)":r,"@media (min-width: 768px)":{height:h(e.h)}}),{height:h(32),...r}},"ActionsRSWP");function Tt(e){const{children:r,layout:n,styles:t}=e;return l.createElement(Dt,{"data-component-name":"Actions",style:{h:t.height,layout:n}},r)}const Pt=l.memo(Tt);function Ae(e){return typeof e!="object"||e===null?0:Array.isArray(e)?2:Nt(e)?1:e instanceof Set?3:e instanceof Map?4:5}function Ot(e){const r=new Set;for(const n of e)for(const t of[...Object.keys(n),...Object.getOwnPropertySymbols(n)])r.add(t);return r}function _t(e,r){return typeof e=="object"&&Object.prototype.propertyIsEnumerable.call(e,r)}function De(e){return{*[Symbol.iterator](){for(const r of e)for(const n of r)yield n}}}const Te=new Set(["[object Object]","[object Module]"]);function Nt(e){if(!Te.has(Object.prototype.toString.call(e)))return!1;const{constructor:r}=e;if(r===void 0)return!0;const n=r.prototype;return!(n===null||typeof n!="object"||!Te.has(Object.prototype.toString.call(n))||!n.hasOwnProperty("isPrototypeOf"))}const se={mergeMaps:Ht,mergeSets:Zt,mergeArrays:Ft,mergeRecords:Yt,mergeOthers:_e},B={defaultMerge:Symbol("deepmerge-ts: default merge"),skip:Symbol("deepmerge-ts: skip")};function zt(e,r){return r}function Pe(...e){return jt({})(...e)}function jt(e,r){const n=Lt(e,t);function t(...i){return Oe(i,n,r)}return t}function Lt(e,r){var n,t;return{defaultMergeFunctions:se,mergeFunctions:{...se,...Object.fromEntries(Object.entries(e).filter(([i,a])=>Object.prototype.hasOwnProperty.call(se,i)).map(([i,a])=>a===!1?[i,_e]:[i,a]))},metaDataUpdater:(n=e.metaDataUpdater)!==null&&n!==void 0?n:zt,deepmerge:r,useImplicitDefaultMerging:(t=e.enableImplicitDefaultMerging)!==null&&t!==void 0?t:!1,actions:B}}function Oe(e,r,n){if(e.length===0)return;if(e.length===1)return le(e,r,n);const t=Ae(e[0]);if(t!==0&&t!==5){for(let i=1;i<e.length;i++)if(Ae(e[i])!==t)return le(e,r,n)}switch(t){case 1:return $t(e,r,n);case 2:return Bt(e,r,n);case 3:return Vt(e,r,n);case 4:return Ut(e,r,n);default:return le(e,r,n)}}function $t(e,r,n){const t=r.mergeFunctions.mergeRecords(e,r,n);return t===B.defaultMerge||r.useImplicitDefaultMerging&&t===void 0&&r.mergeFunctions.mergeRecords!==r.defaultMergeFunctions.mergeRecords?r.defaultMergeFunctions.mergeRecords(e,r,n):t}function Bt(e,r,n){const t=r.mergeFunctions.mergeArrays(e,r,n);return t===B.defaultMerge||r.useImplicitDefaultMerging&&t===void 0&&r.mergeFunctions.mergeArrays!==r.defaultMergeFunctions.mergeArrays?r.defaultMergeFunctions.mergeArrays(e):t}function Vt(e,r,n){const t=r.mergeFunctions.mergeSets(e,r,n);return t===B.defaultMerge||r.useImplicitDefaultMerging&&t===void 0&&r.mergeFunctions.mergeSets!==r.defaultMergeFunctions.mergeSets?r.defaultMergeFunctions.mergeSets(e):t}function Ut(e,r,n){const t=r.mergeFunctions.mergeMaps(e,r,n);return t===B.defaultMerge||r.useImplicitDefaultMerging&&t===void 0&&r.mergeFunctions.mergeMaps!==r.defaultMergeFunctions.mergeMaps?r.defaultMergeFunctions.mergeMaps(e):t}function le(e,r,n){const t=r.mergeFunctions.mergeOthers(e,r,n);return t===B.defaultMerge||r.useImplicitDefaultMerging&&t===void 0&&r.mergeFunctions.mergeOthers!==r.defaultMergeFunctions.mergeOthers?r.defaultMergeFunctions.mergeOthers(e):t}function Yt(e,r,n){const t={};for(const i of Ot(e)){const a=[];for(const c of e)_t(c,i)&&a.push(c[i]);if(a.length===0)continue;const s=r.metaDataUpdater(n,{key:i,parents:e}),o=Oe(a,r,s);o!==B.skip&&(i==="__proto__"?Object.defineProperty(t,i,{value:o,configurable:!0,enumerable:!0,writable:!0}):t[i]=o)}return t}function Ft(e){return e.flat()}function Zt(e){return new Set(De(e))}function Ht(e){return new Map(De(e))}function _e(e){return e[e.length-1]}var Ne=globalThis&&globalThis.__read||function(e,r){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var t=n.call(e),i,a=[],s;try{for(;(r===void 0||r-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(o){s={error:o}}finally{try{i&&!i.done&&(n=t.return)&&n.call(t)}finally{if(s)throw s.error}}return a},Wt=globalThis&&globalThis.__spreadArray||function(e,r,n){if(n||arguments.length===2)for(var t=0,i=r.length,a;t<i;t++)(a||!(t in r))&&(a||(a=Array.prototype.slice.call(r,0,t)),a[t]=r[t]);return e.concat(a||Array.prototype.slice.call(r))};function K(e){var r,n,t,i,a,s,o;return{axis:(r=e==null?void 0:e.axis)!==null&&r!==void 0?r:"x",xMax:(n=e==null?void 0:e.xMax)!==null&&n!==void 0?n:100,xMin:(t=e==null?void 0:e.xMin)!==null&&t!==void 0?t:0,xStep:(i=e==null?void 0:e.xStep)!==null&&i!==void 0?i:1,yMax:(a=e==null?void 0:e.yMax)!==null&&a!==void 0?a:100,yMin:(s=e==null?void 0:e.yMin)!==null&&s!==void 0?s:0,yStep:(o=e==null?void 0:e.yStep)!==null&&o!==void 0?o:1}}function X(e,r){if("touches"in e){var n=Ne(Wt([],Ne(Array.from(e.touches)),!1),1),t=n[0];return{x:t?t.clientX:r.x,y:t?t.clientY:r.y}}return{x:e.clientX,y:e.clientY}}function ce(e,r,n){var t=K(r),i=t.axis,a=t.xMax,s=t.xMin,o=t.xStep,c=t.yMax,u=t.yMin,f=t.yStep,d=(n==null?void 0:n.getBoundingClientRect())||{},m=d.height,b=m===void 0?a:m,p=d.width,S=p===void 0?c:p,g=e.x,y=e.y,v=0,E=0;return g<0&&(g=0),g>S&&(g=S),y<0&&(y=0),y>b&&(y=b),(i==="x"||i==="xy")&&(v=Math.round(g/S*(a-s))),(i==="y"||i==="xy")&&(E=Math.round(y/b*(c-u))),{x:je(v,o),y:je(E,f)}}function J(e,r){var n=r[e]||0,t=e==="x"?r.xMin:r.yMin,i=e==="x"?r.xMax:r.yMax;return ze(t)&&n<t?t:ze(i)&&n>i?i:n}function ze(e){return typeof e=="number"}function Q(e){return typeof e>"u"}function A(e){return typeof e=="number"?e:parseInt(e,10)}function Rt(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t={};for(var i in e)({}).hasOwnProperty.call(e,i)&&(r.includes(i)||(t[i]=e[i]));return t}function je(e,r){return Math.ceil(e/r)*r}var k=globalThis&&globalThis.__assign||function(){return k=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k.apply(this,arguments)},qt={height:"20px",padding:"6px",rangeColor:"#007bff",thumbBorder:"2px solid #000",thumbBorderRadius:"4px",thumbBorderRadiusXY:"50%",thumbColor:"#fff",thumbSize:"10px",thumbSizeXY:"20px",thumbSpace:"6px",trackBorderRadius:"3px",trackColor:"#ccc",width:"20px"};function Xt(e){var r=Pe(qt,e?e.options:{}),n={boxSizing:"border-box",display:"inline-block",padding:r.padding,transition:"height 0.4s, width 0.4s"},t={backgroundColor:r.trackColor,borderRadius:r.trackBorderRadius,boxSizing:"border-box",height:"100%",position:"relative",width:"100%"},i={backgroundColor:r.rangeColor,borderRadius:r.trackBorderRadius,position:"absolute"},a={boxSizing:"border-box",height:r.height,position:"absolute",transition:"height 0.4s, width 0.4s",width:r.width},s={backgroundColor:r.thumbColor,border:r.thumbBorder,borderRadius:r.thumbBorderRadius,boxSizing:"border-box",display:"block",position:"absolute",transition:"height 0.4s, width 0.4s"},o={rail:a,rangeX:k(k({},i),{height:"100%",top:0}),rangeXY:k(k({},i),{bottom:0}),rangeY:k(k({},i),{bottom:0,left:0,width:"100%"}),sliderX:k(k({},n),{height:A(r.height)+A(r.padding)*2,width:"100%"}),sliderXY:k(k({},n),{height:"100%",width:"100%"}),sliderY:k(k({},n),{height:"100%",width:A(r.width)+A(r.padding)*2}),thumbX:k(k({},s),{height:A(r.height)+A(r.thumbSpace),left:-(A(r.thumbSize)/2),top:-(A(r.thumbSpace)/2),width:r.thumbSize}),thumbXY:k(k({},s),{backgroundColor:"transparent",border:r.thumbBorder,borderRadius:r.thumbBorderRadiusXY,bottom:-(A(r.thumbSizeXY)/2),height:r.thumbSizeXY,left:-(A(r.thumbSizeXY)/2),position:"absolute",width:r.thumbSizeXY}),thumbY:k(k({},s),{bottom:-(A(r.thumbSize)/2),height:r.thumbSize,left:-(A(r.thumbSpace)/2),width:A(r.width)+A(r.thumbSpace)}),trackX:k(k({},t),{height:r.height}),trackXY:k(k({},t),{height:"100%",minHeight:"50px",width:"100%"}),trackY:k(k({},t),{height:"100%",minHeight:"50px",width:r.width})};return Pe(o,e||{})}var Gt=globalThis&&globalThis.__extends||function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),V=globalThis&&globalThis.__assign||function(){return V=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},V.apply(this,arguments)},Kt=function(e){Gt(r,e);function r(n){var t=e.call(this,n)||this;return t.lastCoordinates={x:0,y:0},t.mounted=!1,t.offset={x:0,y:0},t.start={x:0,y:0},t.getDragPosition=function(i){var a=i.x,s=i.y;return{x:a+t.start.x-t.offset.x,y:t.offset.y+t.start.y-s}},t.updateOptions=function(i){var a,s,o,c,u,f,d,m,b=i.x,p=i.y,S=t,g=S.rail,y=S.track;t.start={x:(s=(a=g.current)===null||a===void 0?void 0:a.offsetLeft)!==null&&s!==void 0?s:0,y:((c=(o=y.current)===null||o===void 0?void 0:o.offsetHeight)!==null&&c!==void 0?c:0)-((f=(u=g.current)===null||u===void 0?void 0:u.offsetTop)!==null&&f!==void 0?f:0)-((m=(d=g.current)===null||d===void 0?void 0:d.offsetHeight)!==null&&m!==void 0?m:0)},t.lastCoordinates={x:b,y:p},t.offset={x:b,y:p}},t.updatePosition=function(i){t.setState(ce(i,t.props,t.slider.current))},t.handleBlur=function(){document.removeEventListener("keydown",t.handleKeydown)},t.handleClickTrack=function(i){var a=t.props.onAfterEnd,s=t.state.isDragging;if(s)t.mounted&&t.setState({isDragging:!1});else{var o=i.currentTarget,c=X(i,t.lastCoordinates),u=c.x,f=c.y,d=o.getBoundingClientRect(),m=d.bottom,b=d.left,p={x:u-b,y:m-f};t.lastCoordinates={x:u,y:f},t.updatePosition(p),a&&a(ce(p,t.props,t.slider.current),t.props)}},t.handleDrag=function(i){i.preventDefault();var a=X(i,t.lastCoordinates);t.updatePosition(t.getDragPosition(a)),t.lastCoordinates=a},t.handleDragEnd=function(i){i.preventDefault();var a=t.props,s=a.onAfterEnd,o=a.onDragEnd,c=ce(t.getDragPosition(X(i,t.lastCoordinates)),t.props,t.slider.current);document.removeEventListener("mousemove",t.handleDrag),document.removeEventListener("mouseup",t.handleDragEnd),document.removeEventListener("touchmove",t.handleDrag),document.removeEventListener("touchend",t.handleDragEnd),document.removeEventListener("touchcancel",t.handleDragEnd),o&&o(c,t.props),s&&s(c,t.props)},t.handleFocus=function(){document.addEventListener("keydown",t.handleKeydown,{passive:!1})},t.handleKeydown=function(i){var a=t.state,s=a.x,o=a.y,c=t.props,u=c.x,f=c.y,d=K(t.props),m=d.axis,b=d.xMax,p=d.xMin,S=d.xStep,g=d.yMax,y=d.yMin,v=d.yStep,E={down:"ArrowDown",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight"};if(Object.values(E).includes(i.code)){i.preventDefault();var x={x:Q(u)?s:J("x",t.props),y:Q(f)?o:J("y",t.props)},I=x.x-S<=p?p:x.x-S,M=x.x+S>=b?b:x.x+S,_=x.y-v<=y?y:x.y-v,Z=x.y+v>=g?g:x.y+v;switch(i.code){case E.up:{m==="x"?x.x=M:x.y=Z;break}case E.down:{m==="x"?x.x=I:x.y=_;break}case E.left:{m==="y"?x.y=_:x.x=I;break}case E.right:default:{m==="y"?x.y=Z:x.x=M;break}}t.setState(x)}},t.handleMouseDown=function(i){i.preventDefault(),t.updateOptions(X(i,t.lastCoordinates)),t.setState({isDragging:!0}),document.addEventListener("mousemove",t.handleDrag),document.addEventListener("mouseup",t.handleDragEnd)},t.handleTouchStart=function(i){i.preventDefault(),t.updateOptions(X(i,t.lastCoordinates)),document.addEventListener("touchmove",t.handleDrag,{passive:!1}),document.addEventListener("touchend",t.handleDragEnd,{passive:!1}),document.addEventListener("touchcancel",t.handleDragEnd,{passive:!1})},t.slider=z.createRef(),t.rail=z.createRef(),t.track=z.createRef(),t.state={isDragging:!1,x:J("x",n),y:J("y",n)},t}return r.prototype.componentDidMount=function(){this.mounted=!0},r.prototype.componentDidUpdate=function(n,t){var i=this.state,a=i.x,s=i.y,o=this.props.onChange,c=t.x,u=t.y;o&&(a!==c||s!==u)&&o({x:a,y:s},this.props)},r.prototype.componentWillUnmount=function(){this.mounted=!1},Object.defineProperty(r.prototype,"position",{get:function(){var n=K(this.props),t=n.axis,i=n.xMax,a=n.xMin,s=n.yMax,o=n.yMin,c=(this.y-o)/(s-o)*100,u=(this.x-a)/(i-a)*100;return c>100&&(c=100),c<0&&(c=0),t==="x"&&(c=0),u>100&&(u=100),u<0&&(u=0),t==="y"&&(u=0),{x:u,y:c}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){var n=this.props.styles;return Xt(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){var n=this.state.x,t=this.props.x;return Q(t)?n:t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){var n=this.state.y,t=this.props.y;return Q(t)?n:t},enumerable:!1,configurable:!0}),r.prototype.render=function(){var n=this.props,t=n.axis,i=n.className,a=n.xMax,s=n.xMin,o=n.yMax,c=n.yMin,u=Rt(this.props,"axis","className","onAfterEnd","onChange","onDragEnd","styles","x","xMin","xMax","xStep","y","yMin","yMax","yStep"),f=this.position,d=f.x,m=f.y,b={left:"".concat(d,"%"),bottom:"".concat(m,"%")},p={},S,g,y,v,E,x=a,I=s,M=this.x;return t==="x"&&(p.width="".concat(d,"%"),y=this.styles.sliderX,S="horizontal",g=this.styles.rangeX,E=this.styles.trackX,v=this.styles.thumbX),t==="y"&&(p.height="".concat(m,"%"),y=this.styles.sliderY,g=this.styles.rangeY,E=this.styles.trackY,v=this.styles.thumbY,S="vertical",x=o,I=c,M=this.y),t==="xy"&&(p.height="".concat(m,"%"),p.width="".concat(d,"%"),y=this.styles.sliderXY,g=this.styles.rangeXY,E=this.styles.trackXY,v=this.styles.thumbXY),z.createElement("div",V({ref:this.slider,className:i,style:y},u),z.createElement("div",{ref:this.track,className:i&&"".concat(i,"__track"),onClick:this.handleClickTrack,role:"presentation",style:E},z.createElement("div",{className:i&&"".concat(i,"__range"),style:V(V({},p),g)}),z.createElement("div",{ref:this.rail,onMouseDown:this.handleMouseDown,onTouchStart:this.handleTouchStart,role:"presentation",style:V(V({},this.styles.rail),b)},z.createElement("span",{"aria-label":"slider handle","aria-orientation":S,"aria-valuemax":x,"aria-valuemin":I,"aria-valuenow":M,className:i&&"".concat(i,"__thumb"),onBlur:this.handleBlur,onFocus:this.handleFocus,role:"slider",style:v,tabIndex:0}))))},r.defaultProps=K(),r}(z.Component);const ue=Kt;function de(e){const{album:r,artists:n,duration_ms:t,id:i,name:a,uri:s}=e;return{artists:n,durationMs:t,id:i??"",image:Le(r),name:a,uri:s}}function Le(e){var n;const r=Math.max(...e.images.map(t=>t.width||0));return((n=e.images.find(t=>t.width===r))==null?void 0:n.url)||""}function Jt(e){return typeof e=="number"}function Qt(){return new Promise((e,r)=>{if(document.getElementById("spotify-player"))e();else{const t=document.createElement("script");t.id="spotify-player",t.type="text/javascript",t.async=!1,t.defer=!0,t.src="https://sdk.scdn.co/spotify-player.js",t.onload=()=>e(),t.onerror=i=>r(new Error(`loadScript: ${i.message}`)),document.head.appendChild(t)}})}function $e(e){const r=Math.floor(e/1e3%60),n=Math.floor(e/(1e3*60)%60),t=Math.floor(e/(1e3*60*60)%24),i=[];return t>0?i.push(`${t}`.padStart(2,"0"),`${n}`.padStart(2,"0"),`${r}`.padStart(2,"0")):i.push(`${n}`,`${r}`.padStart(2,"0")),i.join(":")}function Be(e){return Jt(e)?e>1?e/100:e:1}function er(e,r=2){const n=10**r;return Math.round(e*n)/n}function Ve(e){const r=["album","artist","playlist","show","track"];if(e&&e.indexOf(":")>-1){const[n,t,i]=e.split(":");if(n==="spotify"&&r.indexOf(t)>=0&&i.length===22)return!0}return!1}const tr=O("div")({alignItems:"center",display:"flex",fontSize:h(12),transition:"height 0.3s",zIndex:10},({style:e})=>({'[class^="rswp_"]':{color:e.c,lineHeight:1,minWidth:h(32)},".rswp_progress":{textAlign:"right"},".rswp_duration":{textAlign:"left"}}),"SliderRSWP");function rr(e){const{durationMs:r,isMagnified:n,onChangeRange:t,onToggleMagnify:i,position:a,progressMs:s,styles:o}=e,c=async({x:f})=>{t(f)},u=o.sliderHeight+6;return l.createElement(tr,{"data-component-name":"Slider","data-position":a,onMouseEnter:i,onMouseLeave:i,style:{c:o.color,sliderHeight:o.sliderHeight}},l.createElement("div",{className:"rswp_progress",style:{fontFamily:o.sliderDurationFontFamily,fontSize:o.sliderDurationFontSize}},$e(s)),l.createElement(ue,{axis:"x",className:"slider","data-component-name":"progress-bar",onChange:c,styles:{options:{thumbBorder:0,thumbBorderRadius:o.sliderHandleBorderRadius,thumbColor:o.sliderHandleColor,thumbSize:n?u+4:u,height:n?o.sliderHeight+4:o.sliderHeight,padding:"0px 13px",rangeColor:o.sliderColor,trackBorderRadius:o.sliderTrackBorderRadius,trackColor:o.sliderTrackColor}},x:a,xMax:100,xMin:0,xStep:.1}),l.createElement("div",{className:"rswp_duration",style:{fontFamily:o.sliderDurationFontFamily,fontSize:o.sliderDurationFontSize}},$e(r)))}const nr=l.memo(rr);function ir(e){const{durationMs:r,isMagnified:n,onChangeRange:t,onToggleMagnify:i,position:a,progressMs:s,styles:o}=e;return l.createElement("div",null,l.createElement(nr,{durationMs:r,isMagnified:n,onChangeRange:t,onToggleMagnify:i,position:a,progressMs:s,styles:o}))}const ar=l.memo(ir);function or(e){const{children:r,isActive:n,onClick:t,...i}=e,a=l.useRef(null),s=l.useRef(!1),o=l.useRef(c=>{const u=a.current;c.type==="touchend"&&(s.current=!0),!(c.type==="click"&&s.current)&&u&&!u.contains(c.target)&&t()});return l.useEffect(()=>{const{current:c}=o;return n&&(document.addEventListener("touchend",c,!0),document.addEventListener("click",c,!0)),()=>{document.removeEventListener("touchend",c,!0),document.removeEventListener("click",c,!0)}},[n]),l.createElement("div",{ref:a,...i},r)}const Ue=l.memo(or);function sr(e){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M57 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H31a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26ZM16 54v6H8v-6h8Zm41-44H31a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM44 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM16 4v6H7a1 1 0 0 0-1 1v26a1 1 0 0 0 1 1h9v6H7a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h9Zm28 12a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z",fill:"currentColor"}))}function lr(e){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M7.226 10.323a7.228 7.228 0 0 1 7.226-7.226h35.096a7.228 7.228 0 0 1 7.226 7.226V37.16a7.226 7.226 0 0 1-7.226 7.226H14.452a7.226 7.226 0 0 1-7.226-7.226V10.323Zm7.226-1.033c-.57 0-1.033.462-1.033 1.033V37.16c0 .57.463 1.033 1.033 1.033h35.096c.57 0 1.033-.463 1.033-1.033V10.323c0-.57-.463-1.033-1.033-1.033H14.452ZM0 57.806a3.097 3.097 0 0 1 3.097-3.096h57.806a3.097 3.097 0 0 1 0 6.193H3.097A3.097 3.097 0 0 1 0 57.806Z",fill:"currentColor"}))}function cr(e){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M44.8 0a9.6 9.6 0 0 1 9.6 9.6v44.8a9.6 9.6 0 0 1-9.6 9.6H19.2a9.6 9.6 0 0 1-9.6-9.6V9.6A9.6 9.6 0 0 1 19.2 0h25.6Zm0 6.4H19.2A3.2 3.2 0 0 0 16 9.6v44.8a3.2 3.2 0 0 0 3.2 3.2h25.6a3.2 3.2 0 0 0 3.2-3.2V9.6a3.2 3.2 0 0 0-3.2-3.2ZM32 43.2a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z",fill:"currentColor"}))}function ur(e){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M45 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H19a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26Zm0 6H19a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM32 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0-16a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z",fill:"currentColor"}))}const dr=O("div")({"pointer-events":"all",alignItems:"center",display:"flex",justifyContent:"center",position:"relative",zIndex:20,"> div":{backgroundColor:"#000",borderRadius:h(8),color:"#fff",filter:"drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))",fontSize:h(14),padding:h(16),position:"absolute",textAlign:"left","> p":{fontWeight:"bold",marginBottom:h(8),marginTop:h(16),whiteSpace:"nowrap"},button:{alignItems:"center",display:"flex",whiteSpace:"nowrap","&:not(:last-of-type)":{marginBottom:h(12)},span:{display:"inline-block",marginLeft:h(4)}},"> span":{background:"transparent",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",content:'""',display:"block",height:0,position:"absolute",width:0}},"> button":{alignItems:"center",display:"flex",fontSize:h(24),height:h(32),justifyContent:"center",width:h(32)}},({style:e})=>{const r=e.layout==="compact",n=r?{bottom:"120%",left:0}:{[e.p]:"120%",left:0,"@media (min-width: 768px)":{left:"auto",right:0}},t=r?{bottom:`-${h(6)}`,borderTop:"6px solid #000",left:h(10)}:{[e.p==="top"?"border-bottom":"border-top"]:"6px solid #000",[e.p]:"-6px",left:h(10),"@media (min-width: 768px)":{left:"auto",right:h(10)}};return{"> button":{color:e.c},"> div":{...n,"> span":t}}},"DevicesRSWP"),fr=O("div")({p:{whiteSpace:"nowrap","&:nth-of-type(1)":{fontWeight:"bold",marginBottom:h(8)},"&:nth-of-type(2)":{alignItems:"center",display:"flex",span:{display:"inline-block",marginLeft:h(4)}}}});function fe(e){return e.toLowerCase().includes("speaker")?l.createElement(ur,null):e.toLowerCase().includes("computer")?l.createElement(lr,null):l.createElement(cr,null)}function hr(e){const{currentDeviceId:r,deviceId:n,devices:t,layout:i,locale:a,onClickDevice:s,open:o,playerPosition:c,styles:{color:u}}=e,[f,d]=l.useState(o),m=y=>{const{dataset:v}=y.currentTarget;v.id&&(s(v.id),d(!1))},b=l.useCallback(()=>{d(y=>!y)},[]),{currentDevice:p,otherDevices:S}=t.reduce((y,v)=>(v.id===r?y.currentDevice=v:y.otherDevices.push(v),y),{currentDevice:null,otherDevices:[]});let g=l.createElement(sr,null);return n&&p&&p.id!==n&&(g=fe(p.type)),l.createElement(Ue,{isActive:f,onClick:b},l.createElement(dr,{"data-component-name":"Devices","data-device-id":r,style:{c:u,layout:i,p:c}},!!t.length&&l.createElement(l.Fragment,null,f&&l.createElement("div",null,p&&l.createElement(fr,null,l.createElement("p",null,a.currentDevice),l.createElement("p",null,fe(p.type),l.createElement("span",null,p.name))),!!S.length&&l.createElement(l.Fragment,null,l.createElement("p",null,a.otherDevices),S.map(y=>l.createElement("button",{key:y.id,"aria-label":y.name,"data-id":y.id,onClick:m,type:"button"},fe(y.type),l.createElement("span",null,y.name)))),l.createElement("span",null)),l.createElement("button",{"aria-label":a.devices,onClick:b,title:a.devices,type:"button"},g))))}const pr=O("div")({alignItems:"center",display:"flex",justifyContent:"center",textAlign:"center",width:"100%"},({style:e})=>({backgroundColor:e.bgColor,borderTop:`1px solid ${e.errorColor}`,color:e.errorColor,height:h(e.h)}),"ErrorRSWP");function mr({children:e,styles:{bgColor:r,errorColor:n,height:t}}){return l.createElement(pr,{"data-component-name":"ErrorMessage",style:{bgColor:r,errorColor:n,h:t}},e)}const gr=["h","s","l"],Ye=["r","g","b"];function C(e,r){if(e)return;if(process.env.NODE_ENV!=="production"&&r===void 0)throw new Error("invariant requires an error message argument");let n;if(r)n=new Error(r);else throw new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");throw n.name="colorizr",n}function Fe(e){if(!Ze(e))return!1;const r=Object.entries(e);return!!r.length&&r.every(([n,t])=>gr.includes(n)&&t>=0&&t<=(n==="h"?360:100))}function G(e){return typeof e=="number"&&!Number.isNaN(e)}function Ze(e){if(!e)return!1;const{toString:r}=Object.prototype,n=Object.getPrototypeOf(e);return r.call(e)==="[object Object]"&&(n===null||n===Object.getPrototypeOf({}))}function He(e){if(!Ze(e))return!1;const r=Object.entries(e);return!!r.length&&r.every(([n,t])=>Ye.includes(n)&&t>=0&&t<=255)}function We(e){return Array.isArray(e)&&e.length===3&&e.every(r=>r>=0&&r<=255)}function U(e){return typeof e=="string"}function he(e,r){if(C(G(e),"Input is not a number"),Ye.includes(r))return Math.max(Math.min(e,255),0);if(["s","l"].includes(r))return Math.max(Math.min(e,100),0);if(r==="h")return Math.max(Math.min(e,360),0);throw new Error("Invalid type")}const P={amount:"amount must be a number",left:"left is required and must be a string",right:"right is required and must be a string",input:"input is required",inputString:"input is required and must be a string",invalid:"invalid input",options:"invalid options"};function Y(e,r=2){const n=10**r;return Math.round(e*n)/n}function Re(e,r=!0){return U(e)?r?/^#([\da-f]{3,4}|[\da-f]{6,8})$/i.test(e):/^#([\da-f]{3}|[\da-f]{6})$/i.test(e):!1}function yr(e){C(U(e),P.inputString);const r=e.replace("#","");let n=r;return(r.length===3||r.length===4)&&(n="",[...r].forEach(t=>{n+=t+t})),n=`#${n}`,C(Re(n),"invalid hex"),n}function ee(e){C(U(e),P.inputString);const r=yr(e).substr(1);return{r:parseInt(String(r.charAt(0))+r.charAt(1),16),g:parseInt(String(r.charAt(2))+r.charAt(3),16),b:parseInt(String(r.charAt(4))+r.charAt(5),16)}}function qe(e){C(!!e,P.input);let r=e;Array.isArray(e)&&(r={r:e[0],g:e[1],b:e[2]}),C(He(r),P.invalid);const n=he(r.r,"r")/255,t=he(r.g,"g")/255,i=he(r.b,"b")/255,a=Math.min(n,t,i),s=Math.max(n,t,i),o=s-a;let c=0,u;const f=(s+a)/2;let d;switch(s){case n:d=o?(t-i)/o:0,c=60*d;break;case t:d=(i-n)/o,c=60*d+120;break;case i:d=(n-t)/o,c=60*d+240;break}return c<0&&(c=360+c),a===s?u=0:u=f<.5?o/(2*f):o/(2-2*f),{h:Math.abs(+(c%360).toFixed(2)),s:+(u*100).toFixed(2),l:+(f*100).toFixed(2)}}function Xe(e){return C(U(e),P.inputString),qe(ee(e))}function pe(e,r,n){C(G(e)&&G(r)&&G(n),"point, chroma and h are required");let t=n;return t<0&&(t+=1),t>1&&(t-=1),t<1/6?Y(e+(r-e)*6*t,4):t<1/2?Y(r,4):t<2/3?Y(e+(r-e)*(2/3-t)*6,4):Y(e,4)}function Ge(e){C(!!e,P.inputString),C(Fe(e),"invalid input");const r=Y(e.h)/360,n=Y(e.s)/100,t=Y(e.l)/100;let i,a,s,o,c;return n===0?(i=t,a=t,s=t):(c=t<.5?t*(1+n):t+n-t*n,o=2*t-c,i=pe(o,c,r+1/3),a=pe(o,c,r),s=pe(o,c,r-1/3)),{r:Math.round(i*255),g:Math.round(a*255),b:Math.round(s*255)}}function Ke(e){C(!!e,P.input),C(We(e)||He(e),P.invalid);let r,n,t;return We(e)?[r,n,t]=e:{r,g:n,b:t}=e,`#${[r.toString(16),n.toString(16),t.toString(16)].map(a=>a.length===1?`0${a}`:a).join("")}`}function vr(e){return C(Fe(e),P.invalid),Ke(Ge(e))}const br={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#FAFAD2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Je(e,r){C(U(e),P.inputString);let n;const t=br[e.toLowerCase()]||e;if(Re(t))switch(r){case"hsl":{n=Xe(t);break}case"rgb":{n=ee(t);break}default:{n=t;break}}else{const i=t.match(/(hsl|rgb)a?\((\d+)(?:,\s*|\s+)(\d+)%?(?:,\s*|\s+)(\d+)%?[^)]*\)/i);C(Array.isArray(i),"invalid CSS string"),C(i.length===5,"invalid CSS string");const[,a,s,o,c]=i;let u,f,d;switch(a==="hsl"?(f={h:parseInt(s,10),s:parseInt(o,10),l:parseInt(c,10)},u=vr(f),d=Ge(f)):(d={r:parseInt(s,10),g:parseInt(o,10),b:parseInt(c,10)},u=Ke(d),f=qe(d)),r){case"hsl":{n=f;break}case"rgb":{n=d;break}case"hex":default:{n=u;break}}}return n}function Qe(e,r=10,n="rgb"){C(U(e),P.inputString),C(G(r),P.amount);const t=Je(e),i=(100-r)/100;if(n==="rgb"){const{r:a,g:s,b:o}=ee(t);return`rgba(${a}, ${s}, ${o}, ${i})`}if(n==="hsl"){const{h:a,s,l:o}=Xe(t);return`hsla(${a}, ${s}%, ${o}%, ${i})`}return`${t}${Math.round(i*255).toString(16)}`}function xr(e){C(U(e),P.inputString);const{r,g:n,b:t}=ee(Je(e));return(r*299+n*587+t*114)/1e3>=128?"#000000":"#ffffff"}function wr(e){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M63.673 16.52A17.676 17.676 0 0 0 49.197 2.563c-5.4-.861-10.891.852-14.844 4.63a3.43 3.43 0 0 1-4.672 0C22.956.689 12.305.62 5.498 7.039c-6.808 6.419-7.366 17.055-1.268 24.15l24.246 28.894a4.623 4.623 0 0 0 7.078 0L59.8 31.19a17.328 17.328 0 0 0 3.873-14.66v-.008Z",fill:"currentColor"}))}function Sr(e){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M5.944 7.206C13.271.3 24.723.34 31.999 7.3A18.924 18.924 0 0 1 48.02 2.32h.008a19.068 19.068 0 0 1 15.617 15.071v.013A18.759 18.759 0 0 1 59.47 33.26L37.573 59.353a7.288 7.288 0 0 1-8.642 1.916 7.276 7.276 0 0 1-2.498-1.912l-21.901-26.1c-6.55-7.671-5.93-19.131 1.408-26.051h.004Zm13.04 1.04a12.726 12.726 0 0 0-9.737 20.997l.021.02 21.905 26.105c.316.372.84.488 1.284.285.143-.066.27-.164.372-.285l21.934-26.137a12.565 12.565 0 0 0 2.808-10.625 12.875 12.875 0 0 0-10.534-10.17 12.714 12.714 0 0 0-10.785 3.37l-.029.029a6.198 6.198 0 0 1-8.444 0l-.037-.033a12.727 12.727 0 0 0-8.758-3.556Z",fill:"currentColor"}))}function Er({bgColor:e,...r}){return l.createElement("svg",{height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 512 160",width:"3.2em",...r},l.createElement("path",{d:"M79.655 0C35.664 0 0 35.663 0 79.654c0 43.993 35.664 79.653 79.655 79.653 43.996 0 79.656-35.66 79.656-79.653 0-43.988-35.66-79.65-79.657-79.65L79.655 0Zm36.53 114.884a4.963 4.963 0 0 1-6.83 1.646c-18.702-11.424-42.246-14.011-69.973-7.676a4.967 4.967 0 0 1-5.944-3.738 4.958 4.958 0 0 1 3.734-5.945c30.343-6.933 56.37-3.948 77.367 8.884a4.965 4.965 0 0 1 1.645 6.83Zm9.75-21.689c-1.799 2.922-5.622 3.845-8.543 2.047-21.41-13.16-54.049-16.972-79.374-9.284a6.219 6.219 0 0 1-7.75-4.138 6.22 6.22 0 0 1 4.141-7.745c28.929-8.778 64.892-4.526 89.48 10.583 2.92 1.798 3.843 5.622 2.045 8.538Zm.836-22.585C101.1 55.362 58.742 53.96 34.231 61.4c-3.936 1.194-8.098-1.028-9.29-4.964a7.453 7.453 0 0 1 4.965-9.294c28.137-8.542 74.912-6.892 104.469 10.655a7.441 7.441 0 0 1 2.606 10.209c-2.092 3.54-6.677 4.707-10.206 2.605h-.004Zm89.944 2.922c-13.754-3.28-16.198-5.581-16.198-10.418 0-4.57 4.299-7.645 10.7-7.645 6.202 0 12.347 2.336 18.796 7.143.19.145.437.203.675.165a.888.888 0 0 0 .6-.367l6.715-9.466a.903.903 0 0 0-.171-1.225c-7.676-6.157-16.313-9.15-26.415-9.15-14.848 0-25.225 8.911-25.225 21.662 0 13.673 8.95 18.515 24.417 22.252 13.155 3.031 15.38 5.57 15.38 10.11 0 5.032-4.49 8.161-11.718 8.161-8.028 0-14.582-2.71-21.906-9.046a.932.932 0 0 0-.656-.218.89.89 0 0 0-.619.313l-7.533 8.96a.906.906 0 0 0 .086 1.256c8.522 7.61 19.004 11.624 30.323 11.624 16 0 26.339-8.742 26.339-22.277.028-11.421-6.81-17.746-23.561-21.821l-.029-.013Zm59.792-13.564c-6.934 0-12.622 2.732-17.321 8.33v-6.3c0-.498-.4-.903-.894-.903h-12.318a.899.899 0 0 0-.894.902v70.009c0 .494.4.903.894.903h12.318a.901.901 0 0 0 .894-.903v-22.097c4.699 5.26 10.387 7.838 17.32 7.838 12.89 0 25.94-9.92 25.94-28.886.019-18.97-13.032-28.894-25.93-28.894l-.01.001Zm11.614 28.893c0 9.653-5.945 16.397-14.468 16.397-8.418 0-14.772-7.048-14.772-16.397 0-9.35 6.354-16.397 14.772-16.397 8.38 0 14.468 6.893 14.468 16.396Zm47.759-28.893c-16.598 0-29.601 12.78-29.601 29.1 0 16.143 12.917 28.784 29.401 28.784 16.655 0 29.696-12.736 29.696-28.991 0-16.2-12.955-28.89-29.496-28.89v-.003Zm0 45.385c-8.827 0-15.485-7.096-15.485-16.497 0-9.444 6.43-16.298 15.285-16.298 8.884 0 15.58 7.093 15.58 16.504 0 9.443-6.468 16.291-15.38 16.291Zm64.937-44.258h-13.554V47.24c0-.497-.4-.902-.894-.902H374.05a.906.906 0 0 0-.904.902v13.855h-5.916a.899.899 0 0 0-.894.902v10.584a.9.9 0 0 0 .894.903h5.916v27.39c0 11.062 5.508 16.674 16.38 16.674 4.413 0 8.075-.914 11.528-2.873a.88.88 0 0 0 .457-.78v-10.083a.896.896 0 0 0-.428-.76.873.873 0 0 0-.876-.039c-2.368 1.19-4.66 1.741-7.229 1.741-3.947 0-5.716-1.798-5.716-5.812V73.49h13.554a.899.899 0 0 0 .894-.903V62.003a.873.873 0 0 0-.884-.903l-.01-.005Zm47.217.054v-1.702c0-5.006 1.921-7.238 6.22-7.238 2.57 0 4.633.51 6.945 1.28a.895.895 0 0 0 1.18-.858l-.001-10.377a.891.891 0 0 0-.637-.865c-2.435-.726-5.555-1.47-10.235-1.47-11.367 0-17.388 6.405-17.388 18.516v2.606h-5.916a.906.906 0 0 0-.904.902v10.638c0 .497.41.903.904.903h5.916v42.237c0 .504.41.904.904.904h12.308c.504 0 .904-.4.904-.904V73.487h11.5l17.616 42.234c-1.998 4.433-3.967 5.317-6.65 5.317-2.168 0-4.46-.646-6.79-1.93a.98.98 0 0 0-.714-.067.896.896 0 0 0-.533.485l-4.175 9.16a.9.9 0 0 0 .39 1.17c4.356 2.359 8.284 3.367 13.145 3.367 9.093 0 14.125-4.242 18.548-15.637l21.364-55.204a.88.88 0 0 0-.095-.838.878.878 0 0 0-.733-.392h-12.822a.901.901 0 0 0-.856.605l-13.136 37.509-14.382-37.534a.898.898 0 0 0-.837-.58h-21.04v-.003Zm-27.375-.054h-12.318a.907.907 0 0 0-.903.902v53.724c0 .504.409.904.903.904h12.318c.495 0 .904-.4.904-.904v-53.72a.9.9 0 0 0-.904-.903v-.003Zm-6.088-24.464c-4.88 0-8.836 3.95-8.836 8.828a8.835 8.835 0 0 0 8.836 8.836c4.88 0 8.827-3.954 8.827-8.836a8.83 8.83 0 0 0-8.827-8.828Z",fill:xr(e)}))}function et(e){return{currentDevice:"Current device",devices:"Devices",next:"Next",otherDevices:"Select other device",pause:"Pause",play:"Play",previous:"Previous",removeTrack:"Remove from your favorites",saveTrack:"Save to your favorites",title:"{name} on SPOTIFY",volume:"Volume",...e}}function tt(e){return{activeColor:"#1cb954",altColor:"#ccc",bgColor:"#fff",color:"#333",errorColor:"#ff0026",height:80,loaderColor:"#ccc",loaderSize:32,sliderColor:"#666",sliderHandleBorderRadius:"50%",sliderHandleColor:"#000",sliderHeight:4,sliderTrackBorderRadius:4,sliderTrackColor:"#ccc",trackArtistColor:"#666",trackNameColor:"#333",...e}}function te(e){const[,r="",n=""]=e.split(":");return`https://open.spotify.com/${r}/${n}`}function rt(e,r){return r.replace("{name}",e)}function me(e){const[,r=""]=e.split(":");return r}function kr(e){const r=a=>window.matchMedia(a).matches,[n,t]=l.useState(r(e));function i(){t(r(e))}return l.useEffect(()=>{const a=window.matchMedia(e);i();try{a.addEventListener("change",i)}catch{a.addListener(i)}return()=>{try{a.removeEventListener("change",i)}catch{a.removeListener(i)}}},[e]),n}function nt(e){const r=l.useRef();return l.useEffect(()=>{r.current=e},[e]),r.current}async function Mr(e,r){const n=Array.isArray(r)?r:[r];return fetch(`https://api.spotify.com/v1/me/tracks/contains?ids=${n}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"GET"}).then(t=>t.json())}async function it(e){return fetch("https://api.spotify.com/v1/me/player/devices",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"GET"}).then(r=>r.json())}async function ge(e){return fetch("https://api.spotify.com/v1/me/player",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"GET"}).then(r=>r.status===204?null:r.json())}async function Cr(e){return fetch("https://api.spotify.com/v1/me/player/pause",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"PUT"})}async function ye(e,{context_uri:r,deviceId:n,offset:t=0,uris:i}){let a;if(r){const s=r.indexOf("artist")>=0;let o;s||(o={position:t}),a=JSON.stringify({context_uri:r,offset:o})}else Array.isArray(i)&&i.length&&(a=JSON.stringify({uris:i,offset:{position:t}}));return fetch(`https://api.spotify.com/v1/me/player/play?device_id=${n}`,{body:a,headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"PUT"})}async function Ir(e,r){const n=Array.isArray(r)?r:[r];return fetch("https://api.spotify.com/v1/me/tracks",{body:JSON.stringify(n),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"DELETE"})}async function Ar(e,r){const n=Array.isArray(r)?r:[r];return fetch("https://api.spotify.com/v1/me/tracks",{body:JSON.stringify({ids:n}),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"PUT"})}async function Dr(e,r){return fetch(`https://api.spotify.com/v1/me/player/seek?position_ms=${r}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"PUT"})}async function Tr(e,r,n){return fetch("https://api.spotify.com/v1/me/player",{body:JSON.stringify({device_ids:[r],play:n}),headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"PUT"})}async function Pr(e,r){return fetch(`https://api.spotify.com/v1/me/player/volume?volume_percent=${r}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},method:"PUT"})}const re=64,ve=32,Or=O("div")({textAlign:"left","> a":{display:"inline-flex",textDecoration:"none",minHeigth:h(64),minWidth:h(64),"&:hover":{textDecoration:"underline"}},button:{alignItems:"center",display:"flex",fontSize:h(16),height:h(ve+8),justifyContent:"center",width:h(ve)}},({style:e})=>{const r=e.layout==="compact",n={};return r?(n.borderBottom=`1px solid ${Qe(e.c,40)}`,n["> a"]={display:"flex",margin:"0 auto",maxWidth:h(640),paddingBottom:"100%",position:"relative",img:{display:"block",bottom:0,left:0,maxWidth:"100%",position:"absolute",right:0,top:0}}):(n.alignItems="center",n.display="flex",n.minHeight=h(80),n["@media (max-width: 767px)"]={borderBottom:`1px solid ${Qe(e.c,40)}`,paddingLeft:h(8),display:"none",width:"100%"},n.img={height:h(re),width:h(re)},n["&.rswp__active"]={"@media (max-width: 767px)":{display:"flex"}}),{button:{color:e.c,"&.rswp__active":{color:e.activeColor}},...n}},"InfoRSWP"),_r=O("div")({display:"flex",flexDirection:"column",justifyContent:"center","> a":{fontSize:h(22),marginTop:h(4)}},({style:e})=>{const r=e.layout==="compact",n={};return r?(n.padding=h(8),n.width="100%"):(n.minHeight=h(re),e.hideCoverArt?n.width="100%":(n.marginLeft=h(8),n.width=`calc(100% - ${h(re+8)})`)),n},"ContentWrapperRSWP"),Nr=O("div")({display:"flex",justifyContent:"start",'[data-type="title-artist-wrapper"]':{overflow:"hidden",div:{marginLeft:`-${h(8)}`,whiteSpace:"nowrap"}},p:{fontSize:h(14),lineHeight:1.3,paddingLeft:h(8),paddingRight:h(8),width:"100%","&:nth-of-type(1)":{alignItems:"center",display:"inline-flex"},"&:nth-of-type(2)":{fontSize:h(12)}},span:{display:"inline-block"}},({style:e})=>({'[data-type="title-artist-wrapper"]':{color:e.trackNameColor,maxWidth:`calc(100% - ${h(e.showSaveIcon?ve:0)})`,div:{"-webkit-mask-image":`linear-gradient(90deg,transparent 0, ${e.bgColor} 6px, ${e.bgColor} calc(100% - 12px),transparent)`}},p:{"&:nth-of-type(1)":{color:e.trackNameColor,a:{color:e.trackNameColor}},"&:nth-of-type(2)":{color:e.trackArtistColor,a:{color:e.trackArtistColor}}}}),"ContentRSWP");function zr(e){const{hideAttribution:r,hideCoverArt:n,isActive:t,layout:i,locale:a,onFavoriteStatusChange:s,showSaveIcon:o,styles:{activeColor:c,bgColor:u,color:f,height:d,trackArtistColor:m,trackNameColor:b},token:p,track:{artists:S=[],id:g,image:y,name:v,uri:E},updateSavedStatus:x}=e,[I,M]=l.useState(!1),_=l.useRef(!1),Z=nt(g),W=N=>{_.current&&M(N)},be=async()=>{if(!_.current)return;x&&g&&x(ie=>{W(ie)});const N=await Mr(p,g),[xe]=N||[!1];W(xe),s(I)};l.useEffect(()=>(_.current=!0,o&&g&&be(),()=>{_.current=!1}),[]),l.useEffect(()=>{o&&Z!==g&&g&&(W(!1),be())});const R=async()=>{I?(await Ir(p,g),W(!1)):(await Ar(p,g),W(!0)),s(!I)},ne=rt(v,a.title);let ot;o&&g&&(ot=l.createElement("button",{"aria-label":I?a.removeTrack:a.saveTrack,className:I?"rswp__active":void 0,onClick:R,title:I?a.removeTrack:a.saveTrack,type:"button"},I?l.createElement(wr,null):l.createElement(Sr,null)));const st=[];return t&&st.push("rswp__active"),g?l.createElement(Or,{className:st.join(" "),"data-component-name":"Info",style:{activeColor:c,c:f,h:d,layout:i,showSaveIcon:o}},!n&&l.createElement("a",{"aria-label":ne,href:te(E),rel:"noreferrer",target:"_blank",title:ne},l.createElement("img",{alt:v,src:y})),l.createElement(_r,{style:{hideCoverArt:n,layout:i,showSaveIcon:o}},!!v&&l.createElement(Nr,{style:{bgColor:u,layout:i,showSaveIcon:o,trackArtistColor:m,trackNameColor:b}},l.createElement("div",{"data-type":"title-artist-wrapper"},l.createElement("div",null,l.createElement("p",null,l.createElement("span",null,l.createElement("a",{"aria-label":ne,href:te(E),rel:"noreferrer",target:"_blank",title:ne},v))),l.createElement("p",{title:S.map(N=>N.name).join(", ")},S.map((N,xe)=>{const ie=rt(N.name,a.title);return l.createElement("span",{key:N.uri},xe?", ":"",l.createElement("a",{"aria-label":ie,href:te(N.uri),rel:"noreferrer",target:"_blank",title:ie},N.name))})))),ot),!r&&l.createElement("a",{"aria-label":"Play on Spotify",href:te(E),rel:"noreferrer",target:"_blank"},l.createElement(Er,{bgColor:u})))):l.createElement("div",null)}const jr=l.memo(zr),Lr=O("div")({alignItems:"center",display:"flex",jsutifyContent:"center",position:"relative","> div":{borderRadius:"50%",borderStyle:"solid",borderWidth:0,boxSizing:"border-box",height:0,left:"50%",position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:0}},({style:e})=>{const r=At({"0%":{height:0,width:0},"30%":{borderWidth:h(8),height:h(e.loaderSize),opacity:1,width:h(e.loaderSize)},"100%":{borderWidth:0,height:h(e.loaderSize),opacity:0,width:h(e.loaderSize)}});return{height:h(e.h),"> div":{animation:`${r} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)`,borderColor:e.loaderColor,height:h(e.loaderSize),width:h(e.loaderSize)}}},"LoaderRSWP");function $r({styles:{height:e,loaderColor:r,loaderSize:n}}){return l.createElement(Lr,{"data-component-name":"Loader",style:{h:e,loaderColor:r,loaderSize:n}},l.createElement("div",null))}function Br(e){return l.createElement("svg",{"data-component-name":"VolumeHigh",height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M37.963 3.402a2.989 2.989 0 0 1 1.5 2.596v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0ZM45 9.542a23.008 23.008 0 0 1 0 44.912V48.25a17.008 17.008 0 0 0 0-32.508Zm-11.532 1.656-23.2 13.4a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6ZM45 22.238a11 11 0 0 1 0 19.52v-19.52Z",fill:"currentColor"}))}function Vr(e){return l.createElement("svg",{"data-component-name":"VolumeLow",height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 41.758v-19.52a11 11 0 0 1 0 19.52Z",fill:"currentColor"}))}function Ur(e){return l.createElement("svg",{"data-component-name":"VolumeMid",height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 48.946a18.008 18.008 0 0 0 0-33.896v6.6a11.996 11.996 0 0 1 0 20.7v6.596Z",fill:"currentColor"}))}function Yr(e){return l.createElement("svg",{"data-component-name":"VolumeMute",height:"1em",preserveAspectRatio:"xMidYMid",viewBox:"0 0 64 64",width:"1em",...e},l.createElement("path",{d:"M34.963 3.402a3 3 0 0 1 4.5 2.6v7.624a19.03 19.03 0 0 0-6 2.776v-5.2l-23.2 13.4a8.57 8.57 0 0 0-3.12 3.128 8.564 8.564 0 0 0 3.124 11.68l23.196 13.392v-5.2a18.92 18.92 0 0 0 6 2.776v7.624a3 3 0 0 1-4.5 2.596l-27.7-16a14.556 14.556 0 0 1-5.32-5.328C-2.06 32.313.32 23.428 7.263 19.402l27.7-16Zm17.354 17.6a3 3 0 0 1 2.122 5.12l-5.88 5.88 5.876 5.88a3 3 0 0 1-4.24 4.24l-5.88-5.88-5.88 5.88a3 3 0 1 1-4.385-4.095l6.025-6.025-5.876-5.88a3 3 0 0 1 4.236-4.24l5.88 5.88 5.88-5.88a3 3 0 0 1 2.122-.88Z",fill:"currentColor"}))}const Fr=O("div")({display:"none","pointer-events":"all",position:"relative",zIndex:20,"> div":{alignItems:"center",backgroundColor:"#000",borderRadius:h(4),color:"#fff",display:"flex",filter:"drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))",flexDirection:"column",left:"-4px",padding:h(16),position:"absolute","> span":{background:"transparent",borderLeft:"6px solid transparent",borderRight:"6px solid transparent",content:'""',display:"block",height:0,position:"absolute",width:0}},"> button":{alignItems:"center",display:"flex",fontSize:h(24),height:h(32),justifyContent:"center",width:h(32)},"@media (any-pointer: fine)":{display:"block"}},({style:e})=>{const r=e.layout==="compact",n=r?{bottom:`-${h(6)}`,borderTop:"6px solid #000"}:{[e.p==="top"?"border-bottom":"border-top"]:"6px solid #000",[e.p]:"-6px"};return{"> button":{color:e.c},"> div":{[r?"bottom":e.p]:"130%","> span":n}}},"VolumeRSWP"),Zr=O("div")({display:"none",padding:`0 ${h(8)}`,"pointer-events":"all","> div":{display:"flex",padding:`0 ${h(5)}`,width:h(100)},"> span":{display:"flex",fontSize:h(24)},"@media (any-pointer: fine)":{alignItems:"center",display:"flex"}},({style:e})=>({color:e.c}),"VolumeInlineRSWP");function Hr(e){const{inlineVolume:r,layout:n,locale:t,playerPosition:i,setVolume:a,styles:s,volume:o}=e,[c,u]=l.useState(!1),[f,d]=l.useState(o),m=l.useRef(),b=nt(o),p=kr("(min-width: 768px)"),S=n==="responsive"&&r&&p;l.useEffect(()=>{b!==o&&o!==f&&d(o)},[b,o,f]);const g=l.useCallback(()=>{u(x=>!x)},[]),y=({x,y:I})=>{const _=Math.round(S?x:I)/100;clearTimeout(m.current),a(_),d(_)},v=()=>{setTimeout(()=>{u(!1)},100)};let E=l.createElement(Br,null);return o===0?E=l.createElement(Yr,null):o<=.4?E=l.createElement(Vr,null):o<=.7&&(E=l.createElement(Ur,null)),S?l.createElement(Zr,{"data-component-name":"Volume","data-value":o,style:{c:s.color}},l.createElement("span",null,E),l.createElement("div",null,l.createElement(ue,{axis:"x",className:"volume","data-component-name":"volume-bar",onAfterEnd:v,onChange:y,styles:{options:{thumbBorder:0,thumbBorderRadius:s.sliderHandleBorderRadius,thumbColor:s.sliderHandleColor,height:s.sliderHeight,padding:0,rangeColor:s.sliderColor,trackBorderRadius:s.sliderTrackBorderRadius,trackColor:s.sliderTrackColor}},x:o*100,xMax:100,xMin:0}))):l.createElement(Ue,{isActive:c,onClick:g},l.createElement(Fr,{"data-component-name":"Volume","data-value":o,style:{c:s.color,layout:n,p:i}},c&&l.createElement("div",null,l.createElement(ue,{axis:"y",className:"volume","data-component-name":"volume-bar",onAfterEnd:v,onChange:y,styles:{options:{padding:0,rangeColor:"#fff",thumbBorder:0,thumbBorderRadius:12,thumbColor:"#fff",thumbSize:12,trackColor:"rgba(255, 255, 255, 0.5)",width:6}},y:o*100,yMax:100,yMin:0}),l.createElement("span",null)),l.createElement("button",{"aria-label":t.volume,onClick:g,title:t.volume,type:"button"},E)))}const Wr=O("div")({alignItems:"center",display:"flex",flexDirection:"column",flexWrap:"wrap",justifyContent:"center",position:"relative","> *":{width:"100%"}},({style:e})=>{let r={};return e.layout==="responsive"&&(r={"> *":{"@media (min-width: 768px)":{width:"33.3333%"}},"@media (min-width: 768px)":{flexDirection:"row",padding:`0 ${h(8)}`}}),{...r}},"WrapperRSWP");function Rr({children:e,layout:r}){return l.createElement(Wr,{"data-component-name":"Wrapper",style:{layout:r}},e)}const qr=l.memo(Rr),F={ACCOUNT:"account",AUTHENTICATION:"authentication",INITIALIZATION:"initialization",PLAYBACK:"playback",PLAYER:"player"},D={ERROR:"ERROR",IDLE:"IDLE",INITIALIZING:"INITIALIZING",READY:"READY",RUNNING:"RUNNING",UNSUPPORTED:"UNSUPPORTED"},H={DEVICE:"device_update",FAVORITE:"favorite_update",PLAYER:"player_update",PROGRESS:"progress_update",STATUS:"status_update",TRACK:"track_update"};class at extends l.PureComponent{constructor(n){super(n);w(this,"isMounted",!1);w(this,"emptyTrack",{artists:[],durationMs:0,id:"",image:"",name:"",uri:""});w(this,"locale");w(this,"player");w(this,"playerProgressInterval");w(this,"playerSyncInterval");w(this,"ref",l.createRef());w(this,"renderInlineActions",!1);w(this,"resizeTimeout");w(this,"seekUpdateInterval",100);w(this,"styles");w(this,"syncTimeout");w(this,"getPlayOptions",yt(n=>{const t={context_uri:void 0,uris:void 0};if(n){const i=Array.isArray(n)?n:[n];if(!i.every(a=>Ve(a)))return console.error("Invalid URI"),t;i.some(a=>me(a)==="track")?(i.every(a=>me(a)==="track")||console.warn("You can't mix tracks URIs with other types"),t.uris=i.filter(a=>Ve(a)&&me(a)==="track")):(i.length>1&&console.warn("Albums, Artists, Playlists and Podcasts can't have multiple URIs"),t.context_uri=i[0])}return t}));w(this,"handleChangeRange",async n=>{const{track:t}=this.state,{callback:i}=this.props;let a=0;try{const s=n/100;let o={};if(this.isExternalPlayer)a=Math.round(t.durationMs*s),await Dr(this.token,a),o={position:n,progressMs:a};else if(this.player){const c=await this.player.getCurrentState();c?(a=Math.round(c.track_window.current_track.duration_ms*s),await this.player.seek(a),o={position:n,progressMs:a}):o={position:0}}this.updateState(o),i&&i({...this.state,...o,type:H.PROGRESS})}catch(s){console.error(s)}});w(this,"handleClickDevice",async n=>{const{isUnsupported:t}=this.state,{autoPlay:i,persistDeviceSelection:a}=this.props;this.updateState({currentDeviceId:n});try{if(await Tr(this.token,n),a&&sessionStorage.setItem("rswpDeviceId",n),t){await this.syncDevice();const s=await ge(this.token);s&&!s.is_playing&&i&&await this.togglePlay(!0)}}catch(s){console.error(s)}});w(this,"handleFavoriteStatusChange",n=>{const{isSaved:t}=this.state;this.updateState({isSaved:n}),t!==n&&this.handleCallback({...this.state,isSaved:n,type:H.FAVORITE})});w(this,"handlePlayerErrors",async(n,t)=>{const{status:i}=this.state,a=n===F.PLAYBACK,s=n===F.INITIALIZATION;let o=i,c=[];this.player&&!a&&(this.player.disconnect(),this.player=void 0),s?(o=D.UNSUPPORTED,{devices:c=[]}=await it(this.token)):a||(o=D.ERROR),this.updateState({devices:c,error:t,errorType:n,isInitializing:!1,isUnsupported:s,status:o})});w(this,"handlePlayerStateChanges",async n=>{var t;try{if(n){const{paused:i,position:a,track_window:{current_track:s,next_tracks:o,previous_tracks:c}}=n,u=!i,f=await((t=this.player)==null?void 0:t.getVolume())||100;let d={};a===0&&s&&(d={nextTracks:o.map(de),position:0,previousTracks:c.map(de),track:de(s)}),this.updateState({error:"",errorType:null,isActive:!0,isPlaying:u,progressMs:a,volume:er(f),...d})}else this.isExternalPlayer?await this.syncDevice():this.updateState({isActive:!1,isPlaying:!1,nextTracks:[],position:0,previousTracks:[],track:{artists:[],durationMs:0,id:"",image:"",name:"",uri:""}})}catch(i){console.error(i)}});w(this,"handlePlayerStatus",async({device_id:n})=>{const{currentDeviceId:t,devices:i}=await this.initializeDevices(n);this.updateState({currentDeviceId:t,deviceId:n,devices:i,isInitializing:!1,status:n?D.READY:D.IDLE})});w(this,"handleResize",()=>{const{layout:n="responsive"}=this.props;clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(()=>{this.renderInlineActions=window.innerWidth>=768&&n==="responsive",this.forceUpdate()},100)});w(this,"handleToggleMagnify",()=>{const{magnifySliderOnHover:n}=this.props;n&&this.updateState(t=>({isMagnified:!t.isMagnified}))});w(this,"initializePlayer",()=>{const{volume:n}=this.state,{getOAuthToken:t=a=>{a(this.token)},name:i="Spotify Web Player"}=this.props;window.Spotify&&(this.updateState({error:"",errorType:null,isInitializing:!0}),this.player=new window.Spotify.Player({getOAuthToken:t,name:i,volume:n}),this.player.addListener("ready",this.handlePlayerStatus),this.player.addListener("not_ready",this.handlePlayerStatus),this.player.addListener("player_state_changed",this.handlePlayerStateChanges),this.player.addListener("initialization_error",a=>this.handlePlayerErrors(F.INITIALIZATION,a.message)),this.player.addListener("authentication_error",a=>this.handlePlayerErrors(F.AUTHENTICATION,a.message)),this.player.addListener("account_error",a=>this.handlePlayerErrors(F.ACCOUNT,a.message)),this.player.addListener("playback_error",a=>this.handlePlayerErrors(F.PLAYBACK,a.message)),this.player.addListener("autoplay_failed",async()=>{console.log("Autoplay is not allowed by the browser autoplay rules")}),this.player.connect())});w(this,"setExternalDevice",n=>{this.updateState({currentDeviceId:n,isPlaying:!0})});w(this,"setVolume",async n=>{this.isExternalPlayer?(await Pr(this.token,Math.round(n*100)),await this.syncDevice()):this.player&&await this.player.setVolume(n),this.updateState({volume:n})});w(this,"syncDevice",async()=>{if(!this.isMounted)return;const{deviceId:n}=this.state;try{const t=await ge(this.token);let i=this.emptyTrack;if(!t)throw new Error("No player");t.item&&(i={artists:t.item.artists,durationMs:t.item.duration_ms,id:t.item.id,image:Le(t.item.album),name:t.item.name,uri:t.item.uri}),this.updateState({error:"",errorType:null,isActive:!0,isPlaying:t.is_playing,nextTracks:[],previousTracks:[],progressMs:t.item?t.progress_ms:0,status:D.READY,track:i,volume:Be(t.device.volume_percent)})}catch(t){const i={isActive:!1,isPlaying:!1,position:0,track:this.emptyTrack};if(n){this.updateState({currentDeviceId:n,...i});return}this.updateState({error:t.message,errorType:F.PLAYER,status:D.ERROR,...i})}});w(this,"toggleOffset",async()=>{const{currentDeviceId:n}=this.state,{offset:t,uris:i}=this.props;typeof t=="number"&&Array.isArray(i)&&await ye(this.token,{deviceId:n,offset:t,uris:i})});w(this,"togglePlay",async(n=!1)=>{const{currentDeviceId:t,isPlaying:i,needsUpdate:a}=this.state,{offset:s,uris:o}=this.props,c=n||a,u=this.getPlayOptions(o);try{this.isExternalPlayer?(i?(await Cr(this.token),this.updateState({isPlaying:!1})):await ye(this.token,{deviceId:t,offset:s,...c?u:void 0}),this.syncTimeout=window.setTimeout(()=>{this.syncDevice()},300)):this.player&&(await this.player.activateElement(),!await this.player.getCurrentState()&&!!(u.context_uri||u.uris)||c?(await ye(this.token,{deviceId:t,offset:s,...c?u:void 0}),await this.player.togglePlay()):await this.player.togglePlay()),a&&this.updateState({needsUpdate:!1})}catch(f){console.error(f)}});w(this,"updateSeekBar",async()=>{if(!this.isMounted)return;const{progressMs:n,track:t}=this.state;try{if(this.isExternalPlayer){let i=n/t.durationMs;i=Number(((Number.isFinite(i)?i:0)*100).toFixed(1)),this.updateState({position:i,progressMs:n+this.seekUpdateInterval})}else if(this.player){const i=await this.player.getCurrentState();if(i){const a=i.position,s=Number((a/i.track_window.current_track.duration_ms*100).toFixed(1));this.updateState({position:s,progressMs:a+this.seekUpdateInterval})}}}catch(i){console.error(i)}});w(this,"updateState",n=>{this.isMounted&&this.setState(n)});this.state={currentDeviceId:"",deviceId:"",devices:[],error:"",errorType:null,isActive:!1,isInitializing:!1,isMagnified:!1,isPlaying:!1,isSaved:!1,isUnsupported:!1,needsUpdate:!1,nextTracks:[],playerPosition:"bottom",position:0,previousTracks:[],progressMs:0,status:D.IDLE,track:this.emptyTrack,volume:Be(n.initialVolume)||1},this.locale=et(n.locale),this.styles=tt(n.styles)}async componentDidMount(){var t;this.isMounted=!0;const{top:n=0}=((t=this.ref.current)==null?void 0:t.getBoundingClientRect())||{};this.updateState({playerPosition:n>window.innerHeight/2?"bottom":"top",status:D.INITIALIZING}),window.onSpotifyWebPlaybackSDKReady?this.initializePlayer():window.onSpotifyWebPlaybackSDKReady=this.initializePlayer,await Qt(),window.addEventListener("resize",this.handleResize),this.handleResize()}async componentDidUpdate(n,t){const{currentDeviceId:i,deviceId:a,isInitializing:s,isPlaying:o,status:c,track:u}=this.state,{autoPlay:f,layout:d,locale:m,offset:b,play:p,showSaveIcon:S,styles:g,syncExternalDevice:y,uris:v}=this.props,E=t.status!==D.READY&&c===D.READY,x=!L(n.layout,d),I=!L(n.locale,m),M=!L(n.styles,g),_=!L(n.uris,v),Z=this.getPlayOptions(v);if(!!i&&!!(Z.context_uri||Z.uris)&&(E&&(f||p))?(await this.togglePlay(!0),o||this.updateState({isPlaying:!0}),this.isExternalPlayer&&(this.syncTimeout=window.setTimeout(()=>{this.syncDevice()},600))):_?o||p?await this.togglePlay(!0):this.updateState({needsUpdate:!0}):n.play!==p&&p!==o&&await this.togglePlay(!u.id),t.status!==c&&this.handleCallback({...this.state,type:H.STATUS}),t.currentDeviceId!==i&&i&&(E||this.handleCallback({...this.state,type:H.DEVICE}),await this.toggleSyncInterval(this.isExternalPlayer),await this.updateSeekBar()),t.track.id!==u.id&&u.id&&(this.handleCallback({...this.state,type:H.TRACK}),S&&this.updateState({isSaved:!1})),t.isPlaying!==o&&(this.toggleProgressBar(),await this.toggleSyncInterval(this.isExternalPlayer),this.handleCallback({...this.state,type:H.PLAYER})),n.offset!==b&&await this.toggleOffset(),t.isInitializing&&!s&&y&&!v){const R=await ge(this.token);R&&R.is_playing&&R.device.id!==a&&this.setExternalDevice(R.device.id)}x&&this.handleResize(),I&&(this.locale=et(m)),M&&(this.styles=tt(g))}async componentWillUnmount(){this.isMounted=!1,this.player&&this.player.disconnect(),clearInterval(this.playerSyncInterval),clearInterval(this.playerProgressInterval),clearTimeout(this.syncTimeout),window.removeEventListener("resize",this.handleResize)}handleCallback(n){const{callback:t}=this.props;t&&t(n)}get token(){const{token:n}=this.props;return n}async initializeDevices(n){const{persistDeviceSelection:t}=this.props,{devices:i}=await it(this.token);let a=n;if(t){const s=sessionStorage.getItem("rswpDeviceId");!s||!i.some(o=>o.id===s)?sessionStorage.setItem("rswpDeviceId",a):a=s}return{currentDeviceId:a,devices:i}}get isExternalPlayer(){const{currentDeviceId:n,deviceId:t,status:i}=this.state;return n&&n!==t||i===D.UNSUPPORTED}async toggleSyncInterval(n){const{syncExternalDeviceInterval:t}=this.props;try{this.isExternalPlayer&&n&&!this.playerSyncInterval&&(await this.syncDevice(),clearInterval(this.playerSyncInterval),this.playerSyncInterval=window.setInterval(this.syncDevice,t*1e3)),(!n||!this.isExternalPlayer)&&this.playerSyncInterval&&(clearInterval(this.playerSyncInterval),this.playerSyncInterval=void 0)}catch(i){console.error(i)}}toggleProgressBar(){const{isPlaying:n}=this.state;n?this.playerProgressInterval||(this.playerProgressInterval=window.setInterval(this.updateSeekBar,this.seekUpdateInterval)):this.playerProgressInterval&&(clearInterval(this.playerProgressInterval),this.playerProgressInterval=void 0)}render(){const{currentDeviceId:n,deviceId:t,devices:i,error:a,isActive:s,isMagnified:o,isUnsupported:c,playerPosition:u,position:f,progressMs:d,status:m,track:b,volume:p}=this.state,{hideAttribution:S=!1,hideCoverArt:g=!1,inlineVolume:y=!0,layout:v="responsive",showSaveIcon:E,updateSavedStatus:x}=this.props,I=[D.READY,D.UNSUPPORTED].includes(m),M={main:l.createElement($r,{styles:this.styles})};return I?(M.info||(M.info=l.createElement(jr,{hideAttribution:S,hideCoverArt:g,isActive:s,layout:v,locale:this.locale,onFavoriteStatusChange:this.handleFavoriteStatusChange,showSaveIcon:E,styles:this.styles,token:this.token,track:b,updateSavedStatus:x})),M.devices=l.createElement(hr,{currentDeviceId:n,deviceId:t,devices:i,layout:v,locale:this.locale,onClickDevice:this.handleClickDevice,open:c&&!t,playerPosition:u,styles:this.styles}),M.volume=n?l.createElement(Hr,{inlineVolume:y,layout:v,locale:this.locale,playerPosition:u,setVolume:this.setVolume,styles:this.styles,volume:p}):null,this.renderInlineActions&&(M.actions=l.createElement(Pt,{layout:v,styles:this.styles},M.devices,M.volume)),M.controls=l.createElement(ar,{durationMs:b.durationMs,isMagnified:o,onChangeRange:this.handleChangeRange,onToggleMagnify:this.handleToggleMagnify,position:f,progressMs:d,styles:this.styles}),M.main=l.createElement(qr,{layout:v,styles:this.styles},M.controls)):M.info&&(M.main=M.info),m===D.ERROR&&(M.main=l.createElement(mr,{styles:this.styles},a)),l.createElement("div",null,M.main)}}w(at,"defaultProps",{autoPlay:!1,initialVolume:1,magnifySliderOnHover:!1,name:"Spotify Web Player",persistDeviceSelection:!1,showSaveIcon:!1,syncExternalDeviceInterval:5,syncExternalDevice:!1}),T.SpotifyWebPlayer=at,Object.defineProperty(T,Symbol.toStringTag,{value:"Module"})});
