{"version":3,"sources":["../src/modules/styled.tsx","../src/components/Actions.tsx","../src/modules/helpers.ts","../src/components/Slider.tsx","../src/components/Controls.tsx","../src/components/ClickOutside.tsx","../src/components/icons/Devices.tsx","../src/components/icons/DevicesComputer.tsx","../src/components/icons/DevicesMobile.tsx","../src/components/icons/DevicesSpeaker.tsx","../src/components/Devices.tsx","../src/components/ErrorMessage.tsx","../src/components/icons/Favorite.tsx","../src/components/icons/FavoriteOutline.tsx","../src/components/SpotifyLogo.tsx","../src/modules/getters.ts","../src/modules/hooks.ts","../src/modules/spotify.ts","../src/components/Info.tsx","../src/components/Loader.tsx","../src/components/icons/VolumeHigh.tsx","../src/components/icons/VolumeLow.tsx","../src/components/icons/VolumeMid.tsx","../src/components/icons/VolumeMute.tsx","../src/components/Volume.tsx","../src/components/Wrapper.tsx","../src/constants.ts","../src/types/common.ts","../src/types/spotify.ts","../src/types/index.ts","../src/SpotifyWebPlayer.tsx","../src/index.tsx"],"sourcesContent":["/* eslint-disable import/extensions */\r\n/* tslint:disable:object-literal-sort-keys */\r\nimport { createElement, FunctionComponent } from 'react';\r\nimport { create, CssLikeObject, NanoRenderer } from 'nano-css';\r\n// @ts-ignore\r\nimport { addon as addonJSX } from 'nano-css/addon/jsx.js';\r\nimport { addon as addonKeyframes } from 'nano-css/addon/keyframes.js';\r\n// @ts-ignore\r\nimport { addon as addonNesting } from 'nano-css/addon/nesting.js';\r\nimport { addon as addonRule } from 'nano-css/addon/rule.js';\r\n// @ts-ignore\r\nimport { addon as addonStyle } from 'nano-css/addon/style.js';\r\n// @ts-ignore\r\nimport { addon as addonStyled } from 'nano-css/addon/styled.js';\r\n\r\nimport { StyledProps } from '../types';\r\n\r\ninterface NanoExtended extends NanoRenderer {\r\n  styled: (\r\n    tag: string,\r\n  ) => (\r\n    styles: CssLikeObject,\r\n    dynamicTemplate?: (props: StyledProps) => CssLikeObject,\r\n    block?: string,\r\n  ) => FunctionComponent<Partial<StyledProps>>;\r\n}\r\n\r\nconst nano = create({ h: createElement });\r\n\r\naddonRule(nano);\r\naddonKeyframes(nano);\r\naddonJSX(nano);\r\naddonStyle(nano);\r\naddonStyled(nano);\r\naddonNesting(nano);\r\n\r\nconst { keyframes, put, styled } = nano as NanoExtended;\r\n\r\nexport const px = (value: string | number): string =>\r\n  typeof value === 'number' ? `${value}px` : value;\r\n\r\nexport { keyframes, put, styled };\r\n\r\nexport { type CssLikeObject } from 'nano-css';\r\n","import React, { memo, ReactNode } from 'react';\r\n\r\nimport { CssLikeObject, px, styled } from '../modules/styled';\r\nimport { Layout, StyledProps, StylesOptions } from '../types';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  layout: Layout;\r\n  styles: StylesOptions;\r\n}\r\n\r\nconst Wrapper = styled('div')(\r\n  {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    'pointer-events': 'none',\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    let styles: CssLikeObject = {\r\n      bottom: 0,\r\n      position: 'absolute',\r\n      right: 0,\r\n      width: 'auto',\r\n    };\r\n\r\n    if (style.layout === 'responsive') {\r\n      styles = {\r\n        '@media (max-width: 767px)': styles,\r\n        '@media (min-width: 768px)': {\r\n          height: px(style.h),\r\n        },\r\n      };\r\n    }\r\n\r\n    return {\r\n      height: px(32),\r\n      ...styles,\r\n    };\r\n  },\r\n  'ActionsRSWP',\r\n);\r\n\r\nfunction Actions(props: Props) {\r\n  const { children, layout, styles } = props;\r\n\r\n  return (\r\n    <Wrapper data-component-name=\"Actions\" style={{ h: styles.height, layout }}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default memo(Actions);\r\n","/* eslint-disable camelcase */\r\nimport { SpotifyTrack } from '../types';\r\n\r\nexport function convertTrack(track: Spotify.Track): SpotifyTrack {\r\n  const { album, artists, duration_ms, id, name, uri } = track;\r\n\r\n  return {\r\n    artists,\r\n    durationMs: duration_ms,\r\n    id: id ?? '',\r\n    image: getAlbumImage(album),\r\n    name,\r\n    uri,\r\n  };\r\n}\r\n\r\nexport function getAlbumImage(album: Spotify.Album) {\r\n  const maxWidth = Math.max(...album.images.map(d => d.width || 0));\r\n\r\n  return album.images.find(d => d.width === maxWidth)?.url || '';\r\n}\r\n\r\nexport function isNumber(value: unknown): value is number {\r\n  return typeof value === 'number';\r\n}\r\n\r\nexport function loadSpotifyPlayer(): Promise<any> {\r\n  return new Promise<void>((resolve, reject) => {\r\n    const scriptTag = document.getElementById('spotify-player');\r\n\r\n    if (!scriptTag) {\r\n      const script = document.createElement('script');\r\n\r\n      script.id = 'spotify-player';\r\n      script.type = 'text/javascript';\r\n      script.async = false;\r\n      script.defer = true;\r\n      script.src = 'https://sdk.scdn.co/spotify-player.js';\r\n      script.onload = () => resolve();\r\n      script.onerror = (error: any) => reject(new Error(`loadScript: ${error.message}`));\r\n\r\n      document.head.appendChild(script);\r\n    } else {\r\n      resolve();\r\n    }\r\n  });\r\n}\r\n\r\nexport function millisecondsToTime(input: number) {\r\n  const seconds = Math.floor((input / 1000) % 60);\r\n  const minutes = Math.floor((input / (1000 * 60)) % 60);\r\n  const hours = Math.floor((input / (1000 * 60 * 60)) % 24);\r\n\r\n  const parts: string[] = [];\r\n\r\n  if (hours > 0) {\r\n    parts.push(\r\n      `${hours}`.padStart(2, '0'),\r\n      `${minutes}`.padStart(2, '0'),\r\n      `${seconds}`.padStart(2, '0'),\r\n    );\r\n  } else {\r\n    parts.push(`${minutes}`, `${seconds}`.padStart(2, '0'));\r\n  }\r\n\r\n  return parts.join(':');\r\n}\r\n\r\nexport function parseVolume(value?: unknown): number {\r\n  if (!isNumber(value)) {\r\n    return 1;\r\n  }\r\n\r\n  if (value > 1) {\r\n    return value / 100;\r\n  }\r\n\r\n  return value;\r\n}\r\n\r\n/**\r\n * Round decimal numbers\r\n */\r\nexport function round(number: number, digits = 2) {\r\n  const factor = 10 ** digits;\r\n\r\n  return Math.round(number * factor) / factor;\r\n}\r\n\r\nexport function validateURI(input: string): boolean {\r\n  const validTypes = ['album', 'artist', 'playlist', 'show', 'track'];\r\n\r\n  /* istanbul ignore else */\r\n  if (input && input.indexOf(':') > -1) {\r\n    const [key, type, id] = input.split(':');\r\n\r\n    /* istanbul ignore else */\r\n    if (key === 'spotify' && validTypes.indexOf(type) >= 0 && id.length === 22) {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n","import React, { memo } from 'react';\r\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\r\n\r\nimport { millisecondsToTime } from '../modules/helpers';\r\nimport { px, styled } from '../modules/styled';\r\nimport { StyledProps, StylesOptions } from '../types';\r\n\r\ninterface Props {\r\n  durationMs: number;\r\n  isMagnified: boolean;\r\n  onChangeRange: (position: number) => void;\r\n  onToggleMagnify: () => void;\r\n  position: number;\r\n  progressMs: number;\r\n  styles: StylesOptions;\r\n}\r\n\r\nconst Wrapper = styled('div')(\r\n  {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    fontSize: px(12),\r\n    transition: 'height 0.3s',\r\n    zIndex: 10,\r\n  },\r\n  ({ style }: StyledProps) => ({\r\n    '[class^=\"rswp_\"]': {\r\n      color: style.c,\r\n      lineHeight: 1,\r\n      minWidth: px(32),\r\n    },\r\n\r\n    '.rswp_progress': {\r\n      \r\n      textAlign: 'right',\r\n    },\r\n\r\n    '.rswp_duration': {\r\n      \r\n      textAlign: 'left',\r\n    },\r\n  }),\r\n  'SliderRSWP',\r\n);\r\n\r\nfunction Slider(props: Props) {\r\n  const { durationMs, isMagnified, onChangeRange, onToggleMagnify, position, progressMs, styles } =\r\n    props;\r\n\r\n  const handleChangeRange = async ({ x }: RangeSliderPosition) => {\r\n    onChangeRange(x);\r\n  };\r\n\r\n  const handleSize = styles.sliderHeight + 6;\r\n\r\n  return (\r\n    <Wrapper\r\n      data-component-name=\"Slider\"\r\n      data-position={position}\r\n      onMouseEnter={onToggleMagnify}\r\n      onMouseLeave={onToggleMagnify}\r\n      style={{\r\n        c: styles.color,\r\n        sliderHeight: styles.sliderHeight,\r\n      }}\r\n    >\r\n      <div className=\"rswp_progress\" style={{fontFamily:styles.sliderDurationFontFamily, fontSize:styles.sliderDurationFontSize}}>{millisecondsToTime(progressMs)}</div>\r\n      <RangeSlider\r\n        axis=\"x\"\r\n        className=\"slider\"\r\n        data-component-name=\"progress-bar\"\r\n        onChange={handleChangeRange}\r\n        styles={{\r\n          options: {\r\n            thumbBorder: 0,\r\n            thumbBorderRadius: styles.sliderHandleBorderRadius,\r\n            thumbColor: styles.sliderHandleColor,\r\n            thumbSize: isMagnified ? handleSize + 4 : handleSize,\r\n            height: isMagnified ? styles.sliderHeight + 4 : styles.sliderHeight,\r\n            padding: \"0px 13px\",\r\n            rangeColor: styles.sliderColor,\r\n            trackBorderRadius: styles.sliderTrackBorderRadius,\r\n            trackColor: styles.sliderTrackColor,\r\n          },\r\n        }}\r\n        x={position}\r\n        xMax={100}\r\n        xMin={0}\r\n        xStep={0.1}\r\n      />\r\n      <div className=\"rswp_duration\" style={{fontFamily:styles.sliderDurationFontFamily , fontSize:styles.sliderDurationFontSize}}>{millisecondsToTime(durationMs)}</div>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default memo(Slider);\r\n","import React, { memo } from 'react';\r\n\r\n// import Next from './icons/Next';\r\n// import Pause from './icons/Pause';\r\n// import Play from './icons/Play';\r\n// import Previous from './icons/Previous';\r\nimport Slider from './Slider';\r\n\r\n// import { CssLikeObject, px, styled } from '../modules/styled';\r\nimport {\r\n  //  Layout,\r\n  // Locale, \r\n  // SpotifyTrack, \r\n  // StyledProps, \r\n  StylesOptions } from '../types';\r\n\r\ninterface Props {\r\n  // devices: JSX.Element | null;\r\n  durationMs: number;\r\n  // isExternalDevice: boolean;\r\n  isMagnified: boolean;\r\n  // isPlaying: boolean;\r\n  // layout: Layout;\r\n  // locale: Locale;\r\n  // nextTracks: SpotifyTrack[];\r\n  onChangeRange: (position: number) => void;\r\n  // onClickNext: () => void;\r\n  // onClickPrevious: () => void;\r\n  // onClickTogglePlay: () => void;\r\n  onToggleMagnify: () => void;\r\n  position: number;\r\n  // previousTracks: SpotifyTrack[];\r\n  progressMs: number;\r\n  styles: StylesOptions;\r\n  // volume: JSX.Element | null;\r\n}\r\n\r\n// const Wrapper = styled('div')(\r\n//   {\r\n//     '.rswp__volume': {\r\n//       position: 'absolute',\r\n//       right: 0,\r\n//       top: 0,\r\n//     },\r\n//     '.rswp__devices': {\r\n//       position: 'absolute',\r\n//       left: 0,\r\n//       top: 0,\r\n//     },\r\n//   },\r\n//   ({ style }: StyledProps) => {\r\n//     const isCompactLayout = style.layout === 'compact';\r\n//     const styles: CssLikeObject = {};\r\n\r\n//     if (isCompactLayout) {\r\n//       styles.padding = px(8);\r\n//     } else {\r\n//       styles.padding = `${px(4)} 0`;\r\n//       styles['@media (max-width: 767px)'] = {\r\n//         padding: px(8),\r\n//       };\r\n//     }\r\n\r\n//     return styles;\r\n//   },\r\n//   'ControlsRSWP',\r\n// );\r\n\r\n// const Buttons = styled('div')(\r\n//   {\r\n//     alignItems: 'center',\r\n//     display: 'flex',\r\n//     justifyContent: 'center',\r\n//     marginBottom: px(8),\r\n//     position: 'relative',\r\n\r\n//     '> div': {\r\n//       alignItems: 'center',\r\n//       display: 'flex',\r\n//       minWidth: px(32),\r\n//       textAlign: 'center',\r\n//     },\r\n//   },\r\n//   ({ style }: StyledProps) => ({\r\n//     color: style.c,\r\n//   }),\r\n//   'ControlsButtonsRSWP',\r\n// );\r\n\r\n// const Button = styled('button')(\r\n//   {\r\n//     alignItems: 'center',\r\n//     display: 'inline-flex',\r\n//     fontSize: px(16),\r\n//     height: px(32),\r\n//     justifyContent: 'center',\r\n//     width: px(32),\r\n\r\n//     '&.rswp__toggle': {\r\n//       fontSize: px(32),\r\n//       width: px(48),\r\n//     },\r\n//   },\r\n//   () => ({}),\r\n//   'ControlsButtonRSWP',\r\n// );\r\n\r\nfunction Controls(props: Props) {\r\n  const {\r\n    // devices,\r\n    durationMs,\r\n    // isExternalDevice,\r\n    isMagnified,\r\n    // isPlaying,\r\n    // layout,\r\n    // locale,\r\n    // nextTracks,\r\n    onChangeRange,\r\n    // onClickNext,\r\n    // onClickPrevious,\r\n    // onClickTogglePlay,\r\n    onToggleMagnify,\r\n    position,\r\n    // previousTracks,\r\n    progressMs,\r\n    styles,\r\n    // volume,\r\n  } = props;\r\n\r\n  // const { color } = styles;\r\n\r\n  return (\r\n    <div>\r\n\r\n      \r\n      <Slider\r\n        durationMs={durationMs}\r\n        isMagnified={isMagnified}\r\n        onChangeRange={onChangeRange}\r\n        onToggleMagnify={onToggleMagnify}\r\n        position={position}\r\n        progressMs={progressMs}\r\n        styles={styles}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(Controls);\r\n\r\n\r\n// eslint-disable-next-line no-lone-blocks\r\n{/* <Wrapper data-component-name=\"Controls\" data-playing={isPlaying} style={{ layout }}>\r\n<Buttons style={{ c: color }}>\r\n {devices && <div className=\"rswp__devices\">{devices}</div>}\r\n <div>\r\n   {(!!previousTracks.length || isExternalDevice) && (\r\n     <Button\r\n       aria-label={locale.previous}\r\n       onClick={onClickPrevious}\r\n       title={locale.previous}\r\n       type=\"button\"\r\n     >\r\n       <Previous />\r\n     </Button>\r\n   )}\r\n </div>\r\n <div>\r\n   <Button\r\n     aria-label={isPlaying ? locale.pause : locale.play}\r\n     className=\"rswp__toggle\"\r\n     onClick={onClickTogglePlay}\r\n     title={isPlaying ? locale.pause : locale.play}\r\n     type=\"button\"\r\n   >\r\n     {isPlaying ? <Pause /> : <Play />}\r\n   </Button>\r\n </div>\r\n <div>\r\n   {(!!nextTracks.length || isExternalDevice) && (\r\n     <Button\r\n       aria-label={locale.next}\r\n       onClick={onClickNext}\r\n       title={locale.next}\r\n       type=\"button\"\r\n     >\r\n       <Next />\r\n     </Button>\r\n   )}\r\n </div>\r\n</Buttons> \r\n</Wrapper> */}","import React, { memo, ReactNode, useEffect, useRef } from 'react';\r\n\r\ninterface Props {\r\n  children: ReactNode;\r\n  isActive: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nfunction ClickOutside(props: Props) {\r\n  const { children, isActive, onClick, ...rest } = props;\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const isTouch = useRef(false);\r\n\r\n  const handleClick = useRef((event: MouseEvent | TouchEvent) => {\r\n    const container = containerRef.current;\r\n\r\n    if (event.type === 'touchend') {\r\n      isTouch.current = true;\r\n    }\r\n\r\n    if (event.type === 'click' && isTouch.current) {\r\n      return;\r\n    }\r\n\r\n    if (container && !container.contains(event.target as Node)) {\r\n      onClick();\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    const { current } = handleClick;\r\n\r\n    if (isActive) {\r\n      document.addEventListener('touchend', current, true);\r\n      document.addEventListener('click', current, true);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('touchend', current, true);\r\n      document.removeEventListener('click', current, true);\r\n    };\r\n  }, [isActive]);\r\n\r\n  return (\r\n    <div ref={containerRef} {...rest}>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(ClickOutside);\r\n","import React from \"react\"\r\n\r\nexport default function DevicesIcon(props: any) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\r\n      <path\r\n        d=\"M57 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H31a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26ZM16 54v6H8v-6h8Zm41-44H31a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM44 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16ZM16 4v6H7a1 1 0 0 0-1 1v26a1 1 0 0 0 1 1h9v6H7a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h9Zm28 12a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function DevicesComputerIcon(props: any) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\r\n      <path\r\n        d=\"M7.226 10.323a7.228 7.228 0 0 1 7.226-7.226h35.096a7.228 7.228 0 0 1 7.226 7.226V37.16a7.226 7.226 0 0 1-7.226 7.226H14.452a7.226 7.226 0 0 1-7.226-7.226V10.323Zm7.226-1.033c-.57 0-1.033.462-1.033 1.033V37.16c0 .57.463 1.033 1.033 1.033h35.096c.57 0 1.033-.463 1.033-1.033V10.323c0-.57-.463-1.033-1.033-1.033H14.452ZM0 57.806a3.097 3.097 0 0 1 3.097-3.096h57.806a3.097 3.097 0 0 1 0 6.193H3.097A3.097 3.097 0 0 1 0 57.806Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function DevicesMobileIcon(props: any) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\r\n      <path\r\n        d=\"M44.8 0a9.6 9.6 0 0 1 9.6 9.6v44.8a9.6 9.6 0 0 1-9.6 9.6H19.2a9.6 9.6 0 0 1-9.6-9.6V9.6A9.6 9.6 0 0 1 19.2 0h25.6Zm0 6.4H19.2A3.2 3.2 0 0 0 16 9.6v44.8a3.2 3.2 0 0 0 3.2 3.2h25.6a3.2 3.2 0 0 0 3.2-3.2V9.6a3.2 3.2 0 0 0-3.2-3.2ZM32 43.2a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function DevicesSpeakerIcon(props: any) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\r\n      <path\r\n        d=\"M45 4c3.864 0 7 3.136 7 7v42a7 7 0 0 1-7 7H19a7 7 0 0 1-7-7V11c0-3.864 3.136-7 7-7h26Zm0 6H19a1 1 0 0 0-1 1v42a1 1 0 0 0 1 1h26a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1ZM32 32a8 8 0 1 1 0 16 8 8 0 0 1 0-16Zm0-16a4 4 0 1 1 0 8 4 4 0 0 1 0-8Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React, { MouseEvent, useCallback, useState } from 'react';\r\nimport { CssLikeObject } from 'nano-css';\r\n\r\nimport ClickOutside from './ClickOutside';\r\nimport DevicesIcon from './icons/Devices';\r\nimport DevicesComputerIcon from './icons/DevicesComputer';\r\nimport DevicesMobileIcon from './icons/DevicesMobile';\r\nimport DevicesSpeakerIcon from './icons/DevicesSpeaker';\r\n\r\nimport { px, styled } from '../modules/styled';\r\nimport { Layout, Locale, SpotifyDevice, StyledProps, StylesOptions } from '../types';\r\n\r\ninterface Props {\r\n  currentDeviceId?: string;\r\n  deviceId?: string;\r\n  devices: SpotifyDevice[];\r\n  layout: Layout;\r\n  locale: Locale;\r\n  onClickDevice: (deviceId: string) => any;\r\n  open: boolean;\r\n  playerPosition: string;\r\n  styles: StylesOptions;\r\n}\r\n\r\ninterface DeviceList {\r\n  currentDevice: SpotifyDevice | null;\r\n  otherDevices: SpotifyDevice[];\r\n}\r\n\r\nconst Wrapper = styled('div')(\r\n  {\r\n    'pointer-events': 'all',\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n    zIndex: 20,\r\n\r\n    '> div': {\r\n      backgroundColor: '#000',\r\n      borderRadius: px(8),\r\n      color: '#fff',\r\n      filter: 'drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))',\r\n      fontSize: px(14),\r\n      padding: px(16),\r\n      position: 'absolute',\r\n      textAlign: 'left',\r\n\r\n      '> p': {\r\n        fontWeight: 'bold',\r\n        marginBottom: px(8),\r\n        marginTop: px(16),\r\n        whiteSpace: 'nowrap',\r\n      },\r\n\r\n      button: {\r\n        alignItems: 'center',\r\n        display: 'flex',\r\n        whiteSpace: 'nowrap',\r\n\r\n        '&:not(:last-of-type)': {\r\n          marginBottom: px(12),\r\n        },\r\n\r\n        span: {\r\n          display: 'inline-block',\r\n          marginLeft: px(4),\r\n        },\r\n      },\r\n\r\n      '> span': {\r\n        background: 'transparent',\r\n        borderLeft: `6px solid transparent`,\r\n        borderRight: `6px solid transparent`,\r\n        content: '\"\"',\r\n        display: 'block',\r\n        height: 0,\r\n        position: 'absolute',\r\n        width: 0,\r\n      },\r\n    },\r\n\r\n    '> button': {\r\n      alignItems: 'center',\r\n      display: 'flex',\r\n      fontSize: px(24),\r\n      height: px(32),\r\n      justifyContent: 'center',\r\n      width: px(32),\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    const isCompact = style.layout === 'compact';\r\n    const divStyles: CssLikeObject = isCompact\r\n      ? {\r\n          bottom: '120%',\r\n          left: 0,\r\n        }\r\n      : {\r\n          [style.p]: '120%',\r\n          left: 0,\r\n\r\n          '@media (min-width: 768px)': {\r\n            left: 'auto',\r\n            right: 0,\r\n          },\r\n        };\r\n    const spanStyles: CssLikeObject = isCompact\r\n      ? {\r\n          bottom: `-${px(6)}`,\r\n          borderTop: `6px solid #000`,\r\n          left: px(10),\r\n        }\r\n      : {\r\n          [style.p === 'top' ? 'border-bottom' : 'border-top']: `6px solid #000`,\r\n          [style.p]: '-6px',\r\n          left: px(10),\r\n\r\n          '@media (min-width: 768px)': {\r\n            left: 'auto',\r\n            right: px(10),\r\n          },\r\n        };\r\n\r\n    return {\r\n      '> button': {\r\n        color: style.c,\r\n      },\r\n\r\n      '> div': {\r\n        ...divStyles,\r\n\r\n        '> span': spanStyles,\r\n      },\r\n    };\r\n  },\r\n  'DevicesRSWP',\r\n);\r\n\r\nconst ListHeader = styled('div')({\r\n  p: {\r\n    whiteSpace: 'nowrap',\r\n\r\n    '&:nth-of-type(1)': {\r\n      fontWeight: 'bold',\r\n      marginBottom: px(8),\r\n    },\r\n\r\n    '&:nth-of-type(2)': {\r\n      alignItems: 'center',\r\n      display: 'flex',\r\n\r\n      span: {\r\n        display: 'inline-block',\r\n        marginLeft: px(4),\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nfunction getDeviceIcon(type: string) {\r\n  if (type.toLowerCase().includes('speaker')) {\r\n    return <DevicesSpeakerIcon />;\r\n  }\r\n\r\n  if (type.toLowerCase().includes('computer')) {\r\n    return <DevicesComputerIcon />;\r\n  }\r\n\r\n  return <DevicesMobileIcon />;\r\n}\r\n\r\nexport default function Devices(props: Props) {\r\n  const {\r\n    currentDeviceId,\r\n    deviceId,\r\n    devices,\r\n    layout,\r\n    locale,\r\n    onClickDevice,\r\n    open,\r\n    playerPosition,\r\n    styles: { color },\r\n  } = props;\r\n  const [isOpen, setOpen] = useState(open);\r\n\r\n  const handleClickSetDevice = (event: MouseEvent<HTMLElement>) => {\r\n    const { dataset } = event.currentTarget;\r\n\r\n    /* istanbul ignore else */\r\n    if (dataset.id) {\r\n      onClickDevice(dataset.id);\r\n\r\n      setOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleClickToggleList = useCallback(() => {\r\n    setOpen(s => !s);\r\n  }, []);\r\n\r\n  const { currentDevice, otherDevices } = devices.reduce<DeviceList>(\r\n    (acc, device) => {\r\n      if (device.id === currentDeviceId) {\r\n        acc.currentDevice = device;\r\n      } else {\r\n        acc.otherDevices.push(device);\r\n      }\r\n\r\n      return acc;\r\n    },\r\n    { currentDevice: null, otherDevices: [] },\r\n  );\r\n\r\n  let icon = <DevicesIcon />;\r\n\r\n  if (deviceId && currentDevice && currentDevice.id !== deviceId) {\r\n    icon = getDeviceIcon(currentDevice.type);\r\n  }\r\n\r\n  return (\r\n    <ClickOutside isActive={isOpen} onClick={handleClickToggleList}>\r\n      <Wrapper\r\n        data-component-name=\"Devices\"\r\n        data-device-id={currentDeviceId}\r\n        style={{\r\n          c: color,\r\n          layout,\r\n          p: playerPosition,\r\n        }}\r\n      >\r\n        {!!devices.length && (\r\n          <>\r\n            {isOpen && (\r\n              <div>\r\n                {currentDevice && (\r\n                  <ListHeader>\r\n                    <p>{locale.currentDevice}</p>\r\n                    <p>\r\n                      {getDeviceIcon(currentDevice.type)}\r\n                      <span>{currentDevice.name}</span>\r\n                    </p>\r\n                  </ListHeader>\r\n                )}\r\n                {!!otherDevices.length && (\r\n                  <>\r\n                    <p>{locale.otherDevices}</p>\r\n                    {otherDevices.map(device => (\r\n                      <button\r\n                        key={device.id}\r\n                        aria-label={device.name}\r\n                        data-id={device.id}\r\n                        onClick={handleClickSetDevice}\r\n                        type=\"button\"\r\n                      >\r\n                        {getDeviceIcon(device.type)}\r\n                        <span>{device.name}</span>\r\n                      </button>\r\n                    ))}\r\n                  </>\r\n                )}\r\n                <span />\r\n              </div>\r\n            )}\r\n            <button\r\n              aria-label={locale.devices}\r\n              onClick={handleClickToggleList}\r\n              title={locale.devices}\r\n              type=\"button\"\r\n            >\r\n              {icon}\r\n            </button>\r\n          </>\r\n        )}\r\n      </Wrapper>\r\n    </ClickOutside>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nimport { px, styled } from '../modules/styled';\r\nimport { ComponentsProps, StyledProps } from '../types';\r\n\r\nconst Wrapper = styled('div')(\r\n  {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    textAlign: 'center',\r\n    width: '100%',\r\n  },\r\n  ({ style }: StyledProps) => ({\r\n    backgroundColor: style.bgColor,\r\n    borderTop: `1px solid ${style.errorColor}`,\r\n    color: style.errorColor,\r\n    height: px(style.h),\r\n  }),\r\n  'ErrorRSWP',\r\n);\r\n\r\nexport default function ErrorMessage({\r\n  children,\r\n  styles: { bgColor, errorColor, height },\r\n}: ComponentsProps) {\r\n  return (\r\n    <Wrapper data-component-name=\"ErrorMessage\" style={{ bgColor, errorColor, h: height }}>\r\n      {children}\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function Favorite(props: any) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\r\n      <path\r\n        d=\"M63.673 16.52A17.676 17.676 0 0 0 49.197 2.563c-5.4-.861-10.891.852-14.844 4.63a3.43 3.43 0 0 1-4.672 0C22.956.689 12.305.62 5.498 7.039c-6.808 6.419-7.366 17.055-1.268 24.15l24.246 28.894a4.623 4.623 0 0 0 7.078 0L59.8 31.19a17.328 17.328 0 0 0 3.873-14.66v-.008Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function FavoriteOutline(props: any) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 64 64\" width=\"1em\" {...props}>\r\n      <path\r\n        d=\"M5.944 7.206C13.271.3 24.723.34 31.999 7.3A18.924 18.924 0 0 1 48.02 2.32h.008a19.068 19.068 0 0 1 15.617 15.071v.013A18.759 18.759 0 0 1 59.47 33.26L37.573 59.353a7.288 7.288 0 0 1-8.642 1.916 7.276 7.276 0 0 1-2.498-1.912l-21.901-26.1c-6.55-7.671-5.93-19.131 1.408-26.051h.004Zm13.04 1.04a12.726 12.726 0 0 0-9.737 20.997l.021.02 21.905 26.105c.316.372.84.488 1.284.285.143-.066.27-.164.372-.285l21.934-26.137a12.565 12.565 0 0 0 2.808-10.625 12.875 12.875 0 0 0-10.534-10.17 12.714 12.714 0 0 0-10.785 3.37l-.029.029a6.198 6.198 0 0 1-8.444 0l-.037-.033a12.727 12.727 0 0 0-8.758-3.556Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\nimport { textColor } from 'colorizr';\r\n\r\ninterface Props {\r\n  bgColor: string;\r\n}\r\n\r\nexport default function SpotifyLogo({ bgColor, ...rest }: Props) {\r\n  return (\r\n    <svg height=\"1em\" preserveAspectRatio=\"xMidYMid\" viewBox=\"0 0 512 160\" width=\"3.2em\" {...rest}>\r\n      <path\r\n        d=\"M79.655 0C35.664 0 0 35.663 0 79.654c0 43.993 35.664 79.653 79.655 79.653 43.996 0 79.656-35.66 79.656-79.653 0-43.988-35.66-79.65-79.657-79.65L79.655 0Zm36.53 114.884a4.963 4.963 0 0 1-6.83 1.646c-18.702-11.424-42.246-14.011-69.973-7.676a4.967 4.967 0 0 1-5.944-3.738 4.958 4.958 0 0 1 3.734-5.945c30.343-6.933 56.37-3.948 77.367 8.884a4.965 4.965 0 0 1 1.645 6.83Zm9.75-21.689c-1.799 2.922-5.622 3.845-8.543 2.047-21.41-13.16-54.049-16.972-79.374-9.284a6.219 6.219 0 0 1-7.75-4.138 6.22 6.22 0 0 1 4.141-7.745c28.929-8.778 64.892-4.526 89.48 10.583 2.92 1.798 3.843 5.622 2.045 8.538Zm.836-22.585C101.1 55.362 58.742 53.96 34.231 61.4c-3.936 1.194-8.098-1.028-9.29-4.964a7.453 7.453 0 0 1 4.965-9.294c28.137-8.542 74.912-6.892 104.469 10.655a7.441 7.441 0 0 1 2.606 10.209c-2.092 3.54-6.677 4.707-10.206 2.605h-.004Zm89.944 2.922c-13.754-3.28-16.198-5.581-16.198-10.418 0-4.57 4.299-7.645 10.7-7.645 6.202 0 12.347 2.336 18.796 7.143.19.145.437.203.675.165a.888.888 0 0 0 .6-.367l6.715-9.466a.903.903 0 0 0-.171-1.225c-7.676-6.157-16.313-9.15-26.415-9.15-14.848 0-25.225 8.911-25.225 21.662 0 13.673 8.95 18.515 24.417 22.252 13.155 3.031 15.38 5.57 15.38 10.11 0 5.032-4.49 8.161-11.718 8.161-8.028 0-14.582-2.71-21.906-9.046a.932.932 0 0 0-.656-.218.89.89 0 0 0-.619.313l-7.533 8.96a.906.906 0 0 0 .086 1.256c8.522 7.61 19.004 11.624 30.323 11.624 16 0 26.339-8.742 26.339-22.277.028-11.421-6.81-17.746-23.561-21.821l-.029-.013Zm59.792-13.564c-6.934 0-12.622 2.732-17.321 8.33v-6.3c0-.498-.4-.903-.894-.903h-12.318a.899.899 0 0 0-.894.902v70.009c0 .494.4.903.894.903h12.318a.901.901 0 0 0 .894-.903v-22.097c4.699 5.26 10.387 7.838 17.32 7.838 12.89 0 25.94-9.92 25.94-28.886.019-18.97-13.032-28.894-25.93-28.894l-.01.001Zm11.614 28.893c0 9.653-5.945 16.397-14.468 16.397-8.418 0-14.772-7.048-14.772-16.397 0-9.35 6.354-16.397 14.772-16.397 8.38 0 14.468 6.893 14.468 16.396Zm47.759-28.893c-16.598 0-29.601 12.78-29.601 29.1 0 16.143 12.917 28.784 29.401 28.784 16.655 0 29.696-12.736 29.696-28.991 0-16.2-12.955-28.89-29.496-28.89v-.003Zm0 45.385c-8.827 0-15.485-7.096-15.485-16.497 0-9.444 6.43-16.298 15.285-16.298 8.884 0 15.58 7.093 15.58 16.504 0 9.443-6.468 16.291-15.38 16.291Zm64.937-44.258h-13.554V47.24c0-.497-.4-.902-.894-.902H374.05a.906.906 0 0 0-.904.902v13.855h-5.916a.899.899 0 0 0-.894.902v10.584a.9.9 0 0 0 .894.903h5.916v27.39c0 11.062 5.508 16.674 16.38 16.674 4.413 0 8.075-.914 11.528-2.873a.88.88 0 0 0 .457-.78v-10.083a.896.896 0 0 0-.428-.76.873.873 0 0 0-.876-.039c-2.368 1.19-4.66 1.741-7.229 1.741-3.947 0-5.716-1.798-5.716-5.812V73.49h13.554a.899.899 0 0 0 .894-.903V62.003a.873.873 0 0 0-.884-.903l-.01-.005Zm47.217.054v-1.702c0-5.006 1.921-7.238 6.22-7.238 2.57 0 4.633.51 6.945 1.28a.895.895 0 0 0 1.18-.858l-.001-10.377a.891.891 0 0 0-.637-.865c-2.435-.726-5.555-1.47-10.235-1.47-11.367 0-17.388 6.405-17.388 18.516v2.606h-5.916a.906.906 0 0 0-.904.902v10.638c0 .497.41.903.904.903h5.916v42.237c0 .504.41.904.904.904h12.308c.504 0 .904-.4.904-.904V73.487h11.5l17.616 42.234c-1.998 4.433-3.967 5.317-6.65 5.317-2.168 0-4.46-.646-6.79-1.93a.98.98 0 0 0-.714-.067.896.896 0 0 0-.533.485l-4.175 9.16a.9.9 0 0 0 .39 1.17c4.356 2.359 8.284 3.367 13.145 3.367 9.093 0 14.125-4.242 18.548-15.637l21.364-55.204a.88.88 0 0 0-.095-.838.878.878 0 0 0-.733-.392h-12.822a.901.901 0 0 0-.856.605l-13.136 37.509-14.382-37.534a.898.898 0 0 0-.837-.58h-21.04v-.003Zm-27.375-.054h-12.318a.907.907 0 0 0-.903.902v53.724c0 .504.409.904.903.904h12.318c.495 0 .904-.4.904-.904v-53.72a.9.9 0 0 0-.904-.903v-.003Zm-6.088-24.464c-4.88 0-8.836 3.95-8.836 8.828a8.835 8.835 0 0 0 8.836 8.836c4.88 0 8.827-3.954 8.827-8.836a8.83 8.83 0 0 0-8.827-8.828Z\"\r\n        fill={textColor(bgColor)}\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import { Locale, StylesOptions, StylesProps } from '../types';\r\n\r\nexport function getLocale(locale?: Partial<Locale>): Locale {\r\n  return {\r\n    currentDevice: 'Current device',\r\n    devices: 'Devices',\r\n    next: 'Next',\r\n    otherDevices: 'Select other device',\r\n    pause: 'Pause',\r\n    play: 'Play',\r\n    previous: 'Previous',\r\n    removeTrack: 'Remove from your favorites',\r\n    saveTrack: 'Save to your favorites',\r\n    title: '{name} on SPOTIFY',\r\n    volume: 'Volume',\r\n    ...locale,\r\n  };\r\n}\r\n\r\nexport function getMergedStyles(styles?: StylesProps): StylesOptions {\r\n  return {\r\n    activeColor: '#1cb954',\r\n    altColor: '#ccc',\r\n    bgColor: '#fff',\r\n    color: '#333',\r\n    errorColor: '#ff0026',\r\n    height: 80,\r\n    loaderColor: '#ccc',\r\n    loaderSize: 32,\r\n    sliderColor: '#666',\r\n    sliderHandleBorderRadius: '50%',\r\n    sliderHandleColor: '#000',\r\n    sliderHeight: 4,\r\n    sliderTrackBorderRadius: 4,\r\n    sliderTrackColor: '#ccc',\r\n    trackArtistColor: '#666',\r\n    trackNameColor: '#333',\r\n    ...styles,\r\n  };\r\n}\r\n\r\nexport function getSpotifyLink(uri: string): string {\r\n  const [, type = '', id = ''] = uri.split(':');\r\n\r\n  return `https://open.spotify.com/${type}/${id}`;\r\n}\r\n\r\nexport function getSpotifyLinkTitle(name: string, locale: string): string {\r\n  return locale.replace('{name}', name);\r\n}\r\n\r\nexport function getSpotifyURIType(uri: string): string {\r\n  const [, type = ''] = uri.split(':');\r\n\r\n  return type;\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\nexport function useMediaQuery(input: string): boolean {\r\n  const getMatches = (query: string): boolean => {\r\n    return window.matchMedia(query).matches;\r\n  };\r\n\r\n  const [matches, setMatches] = useState<boolean>(getMatches(input));\r\n\r\n  function handleChange() {\r\n    setMatches(getMatches(input));\r\n  }\r\n\r\n  useEffect(() => {\r\n    const matchMedia = window.matchMedia(input);\r\n\r\n    // Triggered at the first client-side load and if query changes\r\n    handleChange();\r\n\r\n    try {\r\n      matchMedia.addEventListener('change', handleChange);\r\n    } catch {\r\n      // Safari isn't supporting matchMedia.addEventListener\r\n      /* istanbul ignore next */\r\n      matchMedia.addListener(handleChange);\r\n    }\r\n\r\n    return () => {\r\n      try {\r\n        matchMedia.removeEventListener('change', handleChange);\r\n      } catch {\r\n        // Safari isn't supporting matchMedia.removeEventListener\r\n        /* istanbul ignore next */\r\n        matchMedia.removeListener(handleChange);\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [input]);\r\n\r\n  return matches;\r\n}\r\n\r\nexport function usePrevious<T>(value: T): T {\r\n  const ref: any = useRef<T>();\r\n\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]);\r\n\r\n  return ref.current;\r\n}\r\n","/* eslint-disable camelcase */\r\nimport { SpotifyPlayOptions } from '../types';\r\n\r\nexport async function checkTracksStatus(token: string, tracks: string | string[]) {\r\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\r\n\r\n  return fetch(`https://api.spotify.com/v1/me/tracks/contains?ids=${ids}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'GET',\r\n  }).then(d => d.json());\r\n}\r\n\r\nexport async function getDevices(token: string) {\r\n  return fetch(`https://api.spotify.com/v1/me/player/devices`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'GET',\r\n  }).then(d => d.json());\r\n}\r\n\r\nexport async function getPlaybackState(token: string) {\r\n  return fetch(`https://api.spotify.com/v1/me/player`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'GET',\r\n  }).then(d => {\r\n    if (d.status === 204) {\r\n      return null;\r\n    }\r\n\r\n    return d.json();\r\n  });\r\n}\r\n\r\nexport async function pause(token: string) {\r\n  return fetch(`https://api.spotify.com/v1/me/player/pause`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'PUT',\r\n  });\r\n}\r\n\r\nexport async function play(\r\n  token: string,\r\n  { context_uri, deviceId, offset = 0, uris }: SpotifyPlayOptions,\r\n) {\r\n  let body;\r\n\r\n  if (context_uri) {\r\n    const isArtist = context_uri.indexOf('artist') >= 0;\r\n    let position;\r\n\r\n    /* istanbul ignore else */\r\n    if (!isArtist) {\r\n      position = { position: offset };\r\n    }\r\n\r\n    body = JSON.stringify({ context_uri, offset: position });\r\n  } else if (Array.isArray(uris) && uris.length) {\r\n    body = JSON.stringify({ uris, offset: { position: offset } });\r\n  }\r\n\r\n  return fetch(`https://api.spotify.com/v1/me/player/play?device_id=${deviceId}`, {\r\n    body,\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'PUT',\r\n  });\r\n}\r\n\r\nexport async function previous(token: string) {\r\n  return fetch(`https://api.spotify.com/v1/me/player/previous`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'POST',\r\n  });\r\n}\r\n\r\nexport async function next(token: string) {\r\n  return fetch(`https://api.spotify.com/v1/me/player/next`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'POST',\r\n  });\r\n}\r\n\r\nexport async function removeTracks(token: string, tracks: string | string[]) {\r\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\r\n\r\n  return fetch(`https://api.spotify.com/v1/me/tracks`, {\r\n    body: JSON.stringify(ids),\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'DELETE',\r\n  });\r\n}\r\n\r\nexport async function saveTracks(token: string, tracks: string | string[]) {\r\n  const ids = Array.isArray(tracks) ? tracks : [tracks];\r\n\r\n  return fetch(`https://api.spotify.com/v1/me/tracks`, {\r\n    body: JSON.stringify({ ids }),\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'PUT',\r\n  });\r\n}\r\n\r\nexport async function seek(token: string, position: number) {\r\n  return fetch(`https://api.spotify.com/v1/me/player/seek?position_ms=${position}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'PUT',\r\n  });\r\n}\r\n\r\nexport async function setDevice(token: string, deviceId: string, shouldPlay?: boolean) {\r\n  return fetch(`https://api.spotify.com/v1/me/player`, {\r\n    body: JSON.stringify({ device_ids: [deviceId], play: shouldPlay }),\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'PUT',\r\n  });\r\n}\r\n\r\nexport async function setVolume(token: string, volume: number) {\r\n  return fetch(`https://api.spotify.com/v1/me/player/volume?volume_percent=${volume}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    },\r\n    method: 'PUT',\r\n  });\r\n}\r\n","import React, { memo, ReactNode, useEffect, useRef, useState } from 'react';\r\nimport { fade } from 'colorizr';\r\n\r\nimport Favorite from './icons/Favorite';\r\nimport FavoriteOutline from './icons/FavoriteOutline';\r\nimport SpotifyLogo from './SpotifyLogo';\r\n\r\nimport { getSpotifyLink, getSpotifyLinkTitle } from '../modules/getters';\r\nimport { usePrevious } from '../modules/hooks';\r\nimport { checkTracksStatus, removeTracks, saveTracks } from '../modules/spotify';\r\nimport { CssLikeObject, px, styled } from '../modules/styled';\r\nimport { Layout, Locale, SpotifyTrack, StyledProps, StylesOptions } from '../types';\r\n\r\ninterface Props {\r\n  hideAttribution: boolean;\r\n  hideCoverArt: boolean;\r\n  isActive: boolean;\r\n  layout: Layout;\r\n  locale: Locale;\r\n  onFavoriteStatusChange: (status: boolean) => any;\r\n  showSaveIcon: boolean;\r\n  styles: StylesOptions;\r\n  token: string;\r\n  track: SpotifyTrack;\r\n  updateSavedStatus?: (fn: (status: boolean) => any) => any;\r\n}\r\n\r\nconst imageSize = 64;\r\nconst iconSize = 32;\r\n\r\nconst Wrapper = styled('div')(\r\n  {\r\n    textAlign: 'left',\r\n\r\n    '> a': {\r\n      display: 'inline-flex',\r\n      textDecoration: 'none',\r\n      minHeigth: px(64),\r\n      minWidth: px(64),\r\n\r\n      '&:hover': {\r\n        textDecoration: 'underline',\r\n      },\r\n    },\r\n\r\n    button: {\r\n      alignItems: 'center',\r\n      display: 'flex',\r\n      fontSize: px(16),\r\n      height: px(iconSize + 8),\r\n      justifyContent: 'center',\r\n      width: px(iconSize),\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    const isCompactLayout = style.layout === 'compact';\r\n    const styles: CssLikeObject = {};\r\n\r\n    if (isCompactLayout) {\r\n      styles.borderBottom = `1px solid ${fade(style.c, 40)}`;\r\n      styles['> a'] = {\r\n        display: 'flex',\r\n        margin: '0 auto',\r\n        maxWidth: px(640),\r\n        paddingBottom: '100%',\r\n        position: 'relative',\r\n\r\n        img: {\r\n          display: 'block',\r\n          bottom: 0,\r\n          left: 0,\r\n          maxWidth: '100%',\r\n          position: 'absolute',\r\n          right: 0,\r\n          top: 0,\r\n        },\r\n      };\r\n    } else {\r\n      styles.alignItems = 'center';\r\n      styles.display = 'flex';\r\n      styles.minHeight = px(80);\r\n      styles['@media (max-width: 767px)'] = {\r\n        borderBottom: `1px solid ${fade(style.c, 40)}`,\r\n        paddingLeft: px(8),\r\n        display: 'none',\r\n        width: '100%',\r\n      };\r\n      styles.img = {\r\n        height: px(imageSize),\r\n        width: px(imageSize),\r\n      };\r\n      styles['&.rswp__active'] = {\r\n        '@media (max-width: 767px)': {\r\n          display: 'flex',\r\n        },\r\n      };\r\n    }\r\n\r\n    return {\r\n      button: {\r\n        color: style.c,\r\n\r\n        '&.rswp__active': {\r\n          color: style.activeColor,\r\n        },\r\n      },\r\n\r\n      ...styles,\r\n    };\r\n  },\r\n  'InfoRSWP',\r\n);\r\n\r\nconst ContentWrapper = styled('div')(\r\n  {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n\r\n    '> a': {\r\n      fontSize: px(22),\r\n      marginTop: px(4),\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    const isCompactLayout = style.layout === 'compact';\r\n    const styles: CssLikeObject = {};\r\n\r\n    if (isCompactLayout) {\r\n      styles.padding = px(8);\r\n      styles.width = '100%';\r\n    } else {\r\n      styles.minHeight = px(imageSize);\r\n\r\n      if (!style.hideCoverArt) {\r\n        styles.marginLeft = px(8);\r\n        styles.width = `calc(100% - ${px(imageSize + 8)})`;\r\n      } else {\r\n        styles.width = '100%';\r\n      }\r\n    }\r\n\r\n    return styles;\r\n  },\r\n  'ContentWrapperRSWP',\r\n);\r\n\r\nconst Content = styled('div')(\r\n  {\r\n    display: 'flex',\r\n    justifyContent: 'start',\r\n\r\n    '[data-type=\"title-artist-wrapper\"]': {\r\n      overflow: 'hidden',\r\n\r\n      div: {\r\n        marginLeft: `-${px(8)}`,\r\n        whiteSpace: 'nowrap',\r\n      },\r\n    },\r\n\r\n    p: {\r\n      fontSize: px(14),\r\n      lineHeight: 1.3,\r\n      paddingLeft: px(8),\r\n      paddingRight: px(8),\r\n      width: '100%',\r\n\r\n      '&:nth-of-type(1)': {\r\n        alignItems: 'center',\r\n        display: 'inline-flex',\r\n      },\r\n\r\n      '&:nth-of-type(2)': {\r\n        fontSize: px(12),\r\n      },\r\n    },\r\n\r\n    span: {\r\n      display: 'inline-block',\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    return {\r\n      '[data-type=\"title-artist-wrapper\"]': {\r\n        color: style.trackNameColor,\r\n        maxWidth: `calc(100% - ${px(style.showSaveIcon ? iconSize : 0)})`,\r\n\r\n        div: {\r\n          '-webkit-mask-image': `linear-gradient(90deg,transparent 0, ${style.bgColor} 6px, ${style.bgColor} calc(100% - 12px),transparent)`,\r\n        },\r\n      },\r\n      p: {\r\n        '&:nth-of-type(1)': {\r\n          color: style.trackNameColor,\r\n\r\n          a: {\r\n            color: style.trackNameColor,\r\n          },\r\n        },\r\n\r\n        '&:nth-of-type(2)': {\r\n          color: style.trackArtistColor,\r\n\r\n          a: {\r\n            color: style.trackArtistColor,\r\n          },\r\n        },\r\n      },\r\n    };\r\n  },\r\n  'ContentRSWP',\r\n);\r\n\r\nfunction Info(props: Props) {\r\n  const {\r\n    hideAttribution,\r\n    hideCoverArt,\r\n    isActive,\r\n    layout,\r\n    locale,\r\n    onFavoriteStatusChange,\r\n    showSaveIcon,\r\n    styles: { activeColor, bgColor, color, height, trackArtistColor, trackNameColor },\r\n    token,\r\n    track: { artists = [], id, image, name, uri },\r\n    updateSavedStatus,\r\n  } = props;\r\n  const [isSaved, setIsSaved] = useState(false);\r\n  const isMounted = useRef(false);\r\n  const previousId = usePrevious(id);\r\n  const isCompactLayout = layout === 'compact';\r\n\r\n  const updateState = (state: boolean) => {\r\n    if (!isMounted.current) {\r\n      return;\r\n    }\r\n\r\n    setIsSaved(state);\r\n  };\r\n\r\n  const setStatus = async () => {\r\n    if (!isMounted.current) {\r\n      return;\r\n    }\r\n\r\n    if (updateSavedStatus && id) {\r\n      updateSavedStatus((newStatus: boolean) => {\r\n        updateState(newStatus);\r\n      });\r\n    }\r\n\r\n    const status = await checkTracksStatus(token, id);\r\n    const [isFavorite] = status || [false];\r\n\r\n    updateState(isFavorite);\r\n    onFavoriteStatusChange(isSaved);\r\n  };\r\n\r\n  useEffect(() => {\r\n    isMounted.current = true;\r\n\r\n    if (showSaveIcon && id) {\r\n      setStatus();\r\n    }\r\n\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (showSaveIcon && previousId !== id && id) {\r\n      updateState(false);\r\n\r\n      setStatus();\r\n    }\r\n  });\r\n\r\n  const handleClickIcon = async () => {\r\n    if (isSaved) {\r\n      await removeTracks(token, id);\r\n      updateState(false);\r\n    } else {\r\n      await saveTracks(token, id);\r\n      updateState(true);\r\n    }\r\n\r\n    onFavoriteStatusChange(!isSaved);\r\n  };\r\n\r\n  const title = getSpotifyLinkTitle(name, locale.title);\r\n  let favorite;\r\n\r\n  /* istanbul ignore else */\r\n  if (showSaveIcon && id) {\r\n    favorite = (\r\n      <button\r\n        aria-label={isSaved ? locale.removeTrack : locale.saveTrack}\r\n        className={isSaved ? 'rswp__active' : undefined}\r\n        onClick={handleClickIcon}\r\n        title={isSaved ? locale.removeTrack : locale.saveTrack}\r\n        type=\"button\"\r\n      >\r\n        {isSaved ? <Favorite /> : <FavoriteOutline />}\r\n      </button>\r\n    );\r\n  }\r\n\r\n  const content: Record<string, ReactNode> = {};\r\n  const classes = [];\r\n\r\n  if (isActive) {\r\n    classes.push('rswp__active');\r\n  }\r\n\r\n  if (isCompactLayout) {\r\n    content.image = <img alt={name} src={image} />;\r\n  }\r\n\r\n  if (!id) {\r\n    return <div />;\r\n  }\r\n\r\n  return (\r\n    <Wrapper\r\n      className={classes.join(' ')}\r\n      data-component-name=\"Info\"\r\n      style={{\r\n        activeColor,\r\n        c: color,\r\n        h: height,\r\n        layout,\r\n        showSaveIcon,\r\n      }}\r\n    >\r\n      {!hideCoverArt && (\r\n        <a\r\n          aria-label={title}\r\n          href={getSpotifyLink(uri)}\r\n          rel=\"noreferrer\"\r\n          target=\"_blank\"\r\n          title={title}\r\n        >\r\n          <img alt={name} src={image} />\r\n        </a>\r\n      )}\r\n      <ContentWrapper\r\n        style={{\r\n          hideCoverArt,\r\n          layout,\r\n          showSaveIcon,\r\n        }}\r\n      >\r\n        {!!name && (\r\n          <Content\r\n            style={{\r\n              bgColor,\r\n              layout,\r\n              showSaveIcon,\r\n              trackArtistColor,\r\n              trackNameColor,\r\n            }}\r\n          >\r\n            <div data-type=\"title-artist-wrapper\">\r\n              <div>\r\n                <p>\r\n                  <span>\r\n                    <a\r\n                      aria-label={title}\r\n                      href={getSpotifyLink(uri)}\r\n                      rel=\"noreferrer\"\r\n                      target=\"_blank\"\r\n                      title={title}\r\n                    >\r\n                      {name}\r\n                    </a>\r\n                  </span>\r\n                </p>\r\n                <p title={artists.map(d => d.name).join(', ')}>\r\n                  {artists.map((artist, index) => {\r\n                    const artistTitle = getSpotifyLinkTitle(artist.name, locale.title);\r\n\r\n                    return (\r\n                      <span key={artist.uri}>\r\n                        {index ? ', ' : ''}\r\n                        <a\r\n                          aria-label={artistTitle}\r\n                          href={getSpotifyLink(artist.uri)}\r\n                          rel=\"noreferrer\"\r\n                          target=\"_blank\"\r\n                          title={artistTitle}\r\n                        >\r\n                          {artist.name}\r\n                        </a>\r\n                      </span>\r\n                    );\r\n                  })}\r\n                </p>\r\n              </div>\r\n            </div>\r\n            {favorite}\r\n          </Content>\r\n        )}\r\n        {!hideAttribution && (\r\n          <a\r\n            aria-label=\"Play on Spotify\"\r\n            href={getSpotifyLink(uri)}\r\n            rel=\"noreferrer\"\r\n            target=\"_blank\"\r\n          >\r\n            <SpotifyLogo bgColor={bgColor} />\r\n          </a>\r\n        )}\r\n      </ContentWrapper>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nexport default memo(Info);\r\n","import React from \"react\"\r\n\r\nimport { keyframes, px, styled } from '../modules/styled';\r\nimport { ComponentsProps, StyledProps } from '../types';\r\n\r\nconst Wrapper = styled('div')(\r\n  {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    jsutifyContent: 'center',\r\n    position: 'relative',\r\n\r\n    '> div': {\r\n      borderRadius: '50%',\r\n      borderStyle: 'solid',\r\n      borderWidth: 0,\r\n      boxSizing: 'border-box',\r\n      height: 0,\r\n      left: '50%',\r\n      position: 'absolute',\r\n      top: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      width: 0,\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    const pulse = keyframes!({\r\n      '0%': {\r\n        height: 0,\r\n        width: 0,\r\n      },\r\n\r\n      '30%': {\r\n        borderWidth: px(8),\r\n        height: px(style.loaderSize),\r\n        opacity: 1,\r\n        width: px(style.loaderSize),\r\n      },\r\n\r\n      '100%': {\r\n        borderWidth: 0,\r\n        height: px(style.loaderSize),\r\n        opacity: 0,\r\n        width: px(style.loaderSize),\r\n      },\r\n    });\r\n\r\n    return {\r\n      height: px(style.h),\r\n\r\n      '> div': {\r\n        animation: `${pulse} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1)`,\r\n        borderColor: style.loaderColor,\r\n        height: px(style.loaderSize),\r\n        width: px(style.loaderSize),\r\n      },\r\n    };\r\n  },\r\n  'LoaderRSWP',\r\n);\r\n\r\nexport default function Loader({ styles: { height, loaderColor, loaderSize } }: ComponentsProps) {\r\n  return (\r\n    <Wrapper data-component-name=\"Loader\" style={{ h: height, loaderColor, loaderSize }}>\r\n      <div />\r\n    </Wrapper>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function VolumeHigh(props: any) {\r\n  return (\r\n    <svg\r\n      data-component-name=\"VolumeHigh\"\r\n      height=\"1em\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n      viewBox=\"0 0 64 64\"\r\n      width=\"1em\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M37.963 3.402a2.989 2.989 0 0 1 1.5 2.596v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0ZM45 9.542a23.008 23.008 0 0 1 0 44.912V48.25a17.008 17.008 0 0 0 0-32.508Zm-11.532 1.656-23.2 13.4a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6ZM45 22.238a11 11 0 0 1 0 19.52v-19.52Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function VolumeLow(props: any) {\r\n  return (\r\n    <svg\r\n      data-component-name=\"VolumeLow\"\r\n      height=\"1em\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n      viewBox=\"0 0 64 64\"\r\n      width=\"1em\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 41.758v-19.52a11 11 0 0 1 0 19.52Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function VolumeHigh(props: any) {\r\n  return (\r\n    <svg\r\n      data-component-name=\"VolumeMid\"\r\n      height=\"1em\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n      viewBox=\"0 0 64 64\"\r\n      width=\"1em\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M37.963 3.398a3 3 0 0 1 1.5 2.6v52a3 3 0 0 1-4.5 2.6l-27.7-16C.32 40.572-2.06 31.688 1.943 24.73a14.556 14.556 0 0 1 5.32-5.328l27.7-16a3 3 0 0 1 3 0v-.004Zm-27.696 21.2a8.556 8.556 0 0 0 0 14.8l23.2 13.4v-41.6l-23.2 13.4ZM45 48.946a18.008 18.008 0 0 0 0-33.896v6.6a11.996 11.996 0 0 1 0 20.7v6.596Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React from \"react\"\r\n\r\nexport default function VolumeMute(props: any) {\r\n  return (\r\n    <svg\r\n      data-component-name=\"VolumeMute\"\r\n      height=\"1em\"\r\n      preserveAspectRatio=\"xMidYMid\"\r\n      viewBox=\"0 0 64 64\"\r\n      width=\"1em\"\r\n      {...props}\r\n    >\r\n      <path\r\n        d=\"M34.963 3.402a3 3 0 0 1 4.5 2.6v7.624a19.03 19.03 0 0 0-6 2.776v-5.2l-23.2 13.4a8.57 8.57 0 0 0-3.12 3.128 8.564 8.564 0 0 0 3.124 11.68l23.196 13.392v-5.2a18.92 18.92 0 0 0 6 2.776v7.624a3 3 0 0 1-4.5 2.596l-27.7-16a14.556 14.556 0 0 1-5.32-5.328C-2.06 32.313.32 23.428 7.263 19.402l27.7-16Zm17.354 17.6a3 3 0 0 1 2.122 5.12l-5.88 5.88 5.876 5.88a3 3 0 0 1-4.24 4.24l-5.88-5.88-5.88 5.88a3 3 0 1 1-4.385-4.095l6.025-6.025-5.876-5.88a3 3 0 0 1 4.236-4.24l5.88 5.88 5.88-5.88a3 3 0 0 1 2.122-.88Z\"\r\n        fill=\"currentColor\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport RangeSlider, { RangeSliderPosition } from '@gilbarbara/react-range-slider';\r\n\r\nimport ClickOutside from './ClickOutside';\r\nimport VolumeHigh from './icons/VolumeHigh';\r\nimport VolumeLow from './icons/VolumeLow';\r\nimport VolumeMid from './icons/VolumeMid';\r\nimport VolumeMute from './icons/VolumeMute';\r\n\r\nimport { useMediaQuery, usePrevious } from '../modules/hooks';\r\nimport { CssLikeObject, px, styled } from '../modules/styled';\r\nimport { Layout, Locale, StyledProps, StylesOptions } from '../types';\r\n\r\ninterface Props {\r\n  inlineVolume: boolean;\r\n  layout: Layout;\r\n  locale: Locale;\r\n  playerPosition: string;\r\n  setVolume: (volume: number) => any;\r\n  styles: StylesOptions;\r\n  volume: number;\r\n}\r\n\r\nconst WrapperWithToggle = styled('div')(\r\n  {\r\n    display: 'none',\r\n    'pointer-events': 'all',\r\n    position: 'relative',\r\n    zIndex: 20,\r\n\r\n    '> div': {\r\n      alignItems: 'center',\r\n      backgroundColor: '#000',\r\n      borderRadius: px(4),\r\n      color: '#fff',\r\n      display: 'flex',\r\n      filter: 'drop-shadow(1px 1px 6px rgba(0, 0, 0, 0.5))',\r\n      flexDirection: 'column',\r\n      left: '-4px',\r\n      padding: px(16),\r\n      position: 'absolute',\r\n\r\n      '> span': {\r\n        background: 'transparent',\r\n        borderLeft: `6px solid transparent`,\r\n        borderRight: `6px solid transparent`,\r\n        content: '\"\"',\r\n        display: 'block',\r\n        height: 0,\r\n        position: 'absolute',\r\n        width: 0,\r\n      },\r\n    },\r\n\r\n    '> button': {\r\n      alignItems: 'center',\r\n      display: 'flex',\r\n      fontSize: px(24),\r\n      height: px(32),\r\n      justifyContent: 'center',\r\n      width: px(32),\r\n    },\r\n\r\n    '@media (any-pointer: fine)': {\r\n      display: 'block',\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    const isCompact = style.layout === 'compact';\r\n    const spanStyles: CssLikeObject = isCompact\r\n      ? {\r\n          bottom: `-${px(6)}`,\r\n          borderTop: `6px solid #000`,\r\n        }\r\n      : {\r\n          [style.p === 'top' ? 'border-bottom' : 'border-top']: `6px solid #000`,\r\n          [style.p]: '-6px',\r\n        };\r\n\r\n    return {\r\n      '> button': {\r\n        color: style.c,\r\n      },\r\n      '> div': {\r\n        [isCompact ? 'bottom' : style.p]: '130%',\r\n\r\n        '> span': spanStyles,\r\n      },\r\n    };\r\n  },\r\n  'VolumeRSWP',\r\n);\r\n\r\nconst WrapperInline = styled('div')(\r\n  {\r\n    display: 'none',\r\n    padding: `0 ${px(8)}`,\r\n    'pointer-events': 'all',\r\n\r\n    '> div': {\r\n      display: 'flex',\r\n      padding: `0 ${px(5)}`,\r\n      width: px(100),\r\n    },\r\n\r\n    '> span': {\r\n      display: 'flex',\r\n      fontSize: px(24),\r\n    },\r\n\r\n    '@media (any-pointer: fine)': {\r\n      alignItems: 'center',\r\n      display: 'flex',\r\n    },\r\n  },\r\n  ({ style }) => ({\r\n    color: style.c,\r\n  }),\r\n  'VolumeInlineRSWP',\r\n);\r\n\r\nexport default function Volume(props: Props) {\r\n  const { inlineVolume, layout, locale, playerPosition, setVolume, styles, volume } = props;\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [volumeState, setVolumeState] = useState(volume);\r\n  const timeoutRef = useRef<number>();\r\n  const previousVolume = usePrevious(volume);\r\n  const isMediumScreen = useMediaQuery('(min-width: 768px)');\r\n  const isInline = layout === 'responsive' && inlineVolume && isMediumScreen;\r\n\r\n  useEffect(() => {\r\n    if (previousVolume !== volume && volume !== volumeState) {\r\n      setVolumeState(volume);\r\n    }\r\n  }, [previousVolume, volume, volumeState]);\r\n\r\n  const handleClickToggleList = useCallback(() => {\r\n    setIsOpen(s => !s);\r\n  }, []);\r\n\r\n  const handleChangeSlider = ({ x, y }: RangeSliderPosition) => {\r\n    const value = isInline ? x : y;\r\n    const currentvolume = Math.round(value) / 100;\r\n\r\n    clearTimeout(timeoutRef.current);\r\n\r\n    // timeoutRef.current = window.setTimeout(() => {\r\n      setVolume(currentvolume);\r\n    // }, 250);\r\n\r\n    setVolumeState(currentvolume);\r\n  };\r\n\r\n  const handleAfterEnd = () => {\r\n    setTimeout(() => {\r\n      setIsOpen(false);\r\n    }, 100);\r\n  };\r\n\r\n  let icon = <VolumeHigh />;\r\n\r\n  if (volume === 0) {\r\n    icon = <VolumeMute />;\r\n  } else if (volume <= 0.4) {\r\n    icon = <VolumeLow />;\r\n  } else if (volume <= 0.7) {\r\n    icon = <VolumeMid />;\r\n  }\r\n\r\n  if (isInline) {\r\n    return (\r\n      <WrapperInline data-component-name=\"Volume\" data-value={volume} style={{ c: styles.color }}>\r\n        <span>{icon}</span>\r\n        <div>\r\n          <RangeSlider\r\n            axis=\"x\"\r\n            className=\"volume\"\r\n            data-component-name=\"volume-bar\"\r\n            onAfterEnd={handleAfterEnd}\r\n            onChange={handleChangeSlider}\r\n            styles={{\r\n              options: {\r\n                thumbBorder: 0,\r\n                thumbBorderRadius: styles.sliderHandleBorderRadius,\r\n                thumbColor: styles.sliderHandleColor,\r\n                height: styles.sliderHeight,\r\n                padding: 0,\r\n                rangeColor: styles.sliderColor,\r\n                trackBorderRadius: styles.sliderTrackBorderRadius,\r\n                trackColor: styles.sliderTrackColor,\r\n              },\r\n            }}\r\n            x={volume * 100}\r\n            xMax={100}\r\n            xMin={0}\r\n          />\r\n        </div>\r\n      </WrapperInline>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ClickOutside isActive={isOpen} onClick={handleClickToggleList}>\r\n      <WrapperWithToggle\r\n        data-component-name=\"Volume\"\r\n        data-value={volume}\r\n        style={{ c: styles.color, layout, p: playerPosition }}\r\n      >\r\n        {isOpen && (\r\n          <div>\r\n            <RangeSlider\r\n              axis=\"y\"\r\n              className=\"volume\"\r\n              data-component-name=\"volume-bar\"\r\n              onAfterEnd={handleAfterEnd}\r\n              onChange={handleChangeSlider}\r\n              styles={{\r\n                options: {\r\n                  padding: 0,\r\n                  rangeColor: '#fff',\r\n                  thumbBorder: 0,\r\n                  thumbBorderRadius: 12,\r\n                  thumbColor: '#fff',\r\n                  thumbSize: 12,\r\n                  trackColor: 'rgba(255, 255, 255, 0.5)',\r\n                  width: 6,\r\n                },\r\n              }}\r\n              y={volume * 100}\r\n              yMax={100}\r\n              yMin={0}\r\n            />\r\n            <span />\r\n          </div>\r\n        )}\r\n        <button\r\n          aria-label={locale.volume}\r\n          onClick={handleClickToggleList}\r\n          title={locale.volume}\r\n          type=\"button\"\r\n        >\r\n          {icon}\r\n        </button>\r\n      </WrapperWithToggle>\r\n    </ClickOutside>\r\n  );\r\n}\r\n","import React, { memo } from 'react';\r\n\r\nimport { CssLikeObject, px, styled } from '../modules/styled';\r\nimport { ComponentsProps, StyledProps } from '../types';\r\n\r\nconst StyledWrapper = styled('div')(\r\n  {\r\n    alignItems: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n    position: 'relative',\r\n\r\n    '> *': {\r\n      width: '100%',\r\n    },\r\n  },\r\n  ({ style }: StyledProps) => {\r\n    let styles: CssLikeObject = {};\r\n\r\n    if (style.layout === 'responsive') {\r\n      styles = {\r\n        '> *': {\r\n          '@media (min-width: 768px)': {\r\n            width: '33.3333%',\r\n          },\r\n        },\r\n\r\n        '@media (min-width: 768px)': {\r\n          flexDirection: 'row',\r\n          padding: `0 ${px(8)}`,\r\n        },\r\n      };\r\n    }\r\n\r\n    return {\r\n      ...styles,\r\n    };\r\n  },\r\n  'WrapperRSWP',\r\n);\r\n\r\nfunction Wrapper({ children, layout,\r\n  //  styles\r\n   }: ComponentsProps) {\r\n  return (\r\n    <StyledWrapper data-component-name=\"Wrapper\" style={{  layout }}>\r\n      {children}\r\n    </StyledWrapper>\r\n  );\r\n}\r\n\r\nexport default memo(Wrapper);\r\n","export const ERROR_TYPE = {\r\n  ACCOUNT: 'account',\r\n  AUTHENTICATION: 'authentication',\r\n  INITIALIZATION: 'initialization',\r\n  PLAYBACK: 'playback',\r\n  PLAYER: 'player',\r\n} as const;\r\n\r\nexport const STATUS = {\r\n  ERROR: 'ERROR',\r\n  IDLE: 'IDLE',\r\n  INITIALIZING: 'INITIALIZING',\r\n  READY: 'READY',\r\n  RUNNING: 'RUNNING',\r\n  UNSUPPORTED: 'UNSUPPORTED',\r\n} as const;\r\n\r\nexport const TYPE = {\r\n  DEVICE: 'device_update',\r\n  FAVORITE: 'favorite_update',\r\n  PLAYER: 'player_update',\r\n  PROGRESS: 'progress_update',\r\n  STATUS: 'status_update',\r\n  TRACK: 'track_update',\r\n} as const;\r\n","/* eslint-disable camelcase */\r\nimport { ReactNode } from 'react';\r\n\r\nimport { SpotifyDevice, SpotifyTrack } from './spotify';\r\n\r\nimport { ERROR_TYPE, STATUS, TYPE } from '../constants';\r\n\r\nexport type ErrorType = (typeof ERROR_TYPE)[keyof typeof ERROR_TYPE];\r\nexport type Status = (typeof STATUS)[keyof typeof STATUS];\r\nexport type Type = (typeof TYPE)[keyof typeof TYPE];\r\n\r\nexport interface CallbackState extends State {\r\n  type: Type;\r\n}\r\n\r\nexport type Layout = 'responsive' | 'compact';\r\n\r\nexport interface Props {\r\n  /**\r\n   * Start the player immediately.\r\n   * @default false\r\n   * @deprecated Most browsers block autoplaying since the user needs to interact with the page first.\r\n   */\r\n  autoPlay?: boolean;\r\n  /**\r\n   * Get status updates from the player.\r\n   */\r\n  callback?: (state: CallbackState) => any;\r\n  /**\r\n   * The callback Spotify SDK uses to get/update the token.\r\n   */\r\n  getOAuthToken?: (callback: (token: string) => void) => Promise<void>;\r\n  /**\r\n   * Hide the Spotify logo.\r\n   * More info: https://developer.spotify.com/documentation/general/design-and-branding/\r\n   * @default false\r\n   */\r\n  hideAttribution?: boolean;\r\n  /**\r\n   * Hide the cover art.\r\n   * @default false\r\n   */\r\n  hideCoverArt?: boolean;\r\n  /**\r\n   * The initial volume for the player. This isn't used for external devices.\r\n   * @default 1\r\n   */\r\n  initialVolume?: number;\r\n  /**\r\n   * Show the volume inline for the \"responsive\" layout for 768px and above.\r\n   * @default true\r\n   */\r\n  inlineVolume?: boolean;\r\n  /**\r\n   * The layout of the player.\r\n   * @default responsive\r\n   */\r\n  layout?: Layout;\r\n  /**\r\n   * The strings used for aria-label/title attributes.\r\n   */\r\n  locale?: Partial<Locale>;\r\n  /**\r\n   * Magnify the player's slider on hover.\r\n   * @default false\r\n   */\r\n  magnifySliderOnHover?: boolean;\r\n  /**\r\n   * The name of the player.\r\n   * @default Spotify Web Player\r\n   */\r\n  name?: string;\r\n  /**\r\n   * The position of the list/tracks you want to start the player.\r\n   */\r\n  offset?: number;\r\n  /**\r\n   * Save the device selection.\r\n   * @default false\r\n   */\r\n  persistDeviceSelection?: boolean;\r\n  /**\r\n   * Control the player's status.\r\n   */\r\n  play?: boolean;\r\n  /**\r\n   * Display a Favorite button. It needs additional scopes in your token.\r\n   * @default false\r\n   */\r\n  showSaveIcon?: boolean;\r\n  /**\r\n   * Customize the player's appearance.\r\n   */\r\n  styles?: StylesProps;\r\n  /**\r\n   * If there are no URIs and an external device is playing, use the external player context.\r\n   *  @default false\r\n   */\r\n  syncExternalDevice?: boolean;\r\n  /**\r\n   * The time in seconds that the player will sync with external devices.\r\n   * @default 5\r\n   */\r\n  syncExternalDeviceInterval?: number;\r\n  /**\r\n   * A Spotify token.\r\n   */\r\n  token: string;\r\n  /**\r\n   * Provide you with a function to sync the track saved status in the player.\r\n   * This works in addition to the showSaveIcon prop, and it is only needed if you keep the track's saved status in your app.\r\n   */\r\n  updateSavedStatus?: (fn: (status: boolean) => any) => any;\r\n  /**\r\n   * A list of Spotify URIs.\r\n   */\r\n  uris: string | string[];\r\n}\r\n\r\nexport interface State {\r\n  currentDeviceId: string;\r\n  deviceId: string;\r\n  devices: SpotifyDevice[];\r\n  error: string;\r\n  errorType: ErrorType | null;\r\n  isActive: boolean;\r\n  isInitializing: boolean;\r\n  isMagnified: boolean;\r\n  isPlaying: boolean;\r\n  isSaved: boolean;\r\n  isUnsupported: boolean;\r\n  needsUpdate: boolean;\r\n  nextTracks: SpotifyTrack[];\r\n  playerPosition: 'bottom' | 'top';\r\n  position: number;\r\n  previousTracks: SpotifyTrack[];\r\n  progressMs: number;\r\n  status: Status;\r\n  track: SpotifyTrack;\r\n  volume: number;\r\n}\r\n\r\nexport interface ComponentsProps {\r\n  [key: string]: any;\r\n  children?: ReactNode;\r\n  styles: StylesOptions;\r\n}\r\n\r\nexport interface Locale {\r\n  currentDevice: string;\r\n  devices: string;\r\n  next: string;\r\n  otherDevices: string;\r\n  pause: string;\r\n  play: string;\r\n  previous: string;\r\n  removeTrack: string;\r\n  saveTrack: string;\r\n  title: string;\r\n  volume: string;\r\n}\r\n\r\nexport interface PlayOptions {\r\n  context_uri?: string;\r\n  uris?: string[];\r\n}\r\n\r\nexport interface StylesOptions {\r\n  activeColor: string;\r\n  altColor: string;\r\n  bgColor: string;\r\n  color: string;\r\n  errorColor: string;\r\n  height: number;\r\n  loaderColor: string;\r\n  loaderSize: number | string;\r\n  sliderColor: string;\r\n  sliderDurationFontFamily?:string;\r\n  sliderDurationFontSize?:string;\r\n  sliderHandleBorderRadius: number | string;\r\n  sliderHandleColor: string;\r\n  sliderHeight: number;\r\n  sliderTrackBorderRadius: number | string;\r\n  sliderTrackColor: string;\r\n  trackArtistColor: string;\r\n  trackNameColor: string;\r\n}\r\n\r\nexport type StylesProps = Partial<StylesOptions>;\r\n\r\nexport interface StyledProps {\r\n  [key: string]: any;\r\n  style: Record<string, any>;\r\n}\r\n","/* eslint-disable camelcase */\r\n\r\nexport type SpotifyPlayerCallback = (token: string) => void;\r\n\r\nexport interface SpotifyAlbum {\r\n  images: SpotifyImage[];\r\n  name: string;\r\n  uri: string;\r\n}\r\n\r\nexport interface SpotifyArtist {\r\n  external_urls: {\r\n    spotify: string;\r\n  };\r\n  href: string;\r\n  id: string;\r\n  name: string;\r\n  type: string;\r\n  uri: string;\r\n  url: string;\r\n}\r\n\r\nexport interface SpotifyDevice {\r\n  id: string;\r\n  is_active: boolean;\r\n  is_private_session: boolean;\r\n  is_restricted: boolean;\r\n  name: string;\r\n  type: string;\r\n  volume_percent: number;\r\n}\r\n\r\nexport interface SpotifyImage {\r\n  height: number;\r\n  url: string;\r\n  width: number;\r\n}\r\n\r\nexport interface SpotifyPlayOptions {\r\n  context_uri?: string;\r\n  deviceId: string;\r\n  offset?: number;\r\n  uris?: string[];\r\n}\r\n\r\nexport interface SpotifyPlayerStatus {\r\n  actions: {\r\n    disallows: {\r\n      resuming: boolean;\r\n      skipping_prev: boolean;\r\n    };\r\n  };\r\n  context: null;\r\n  currently_playing_type: string;\r\n  device: SpotifyDevice;\r\n  is_playing: boolean;\r\n  item: {\r\n    album: {\r\n      album_type: string;\r\n      artists: SpotifyArtist[];\r\n      available_markets: string[];\r\n      external_urls: {\r\n        spotify: string;\r\n      };\r\n      href: string;\r\n      id: string;\r\n      images: SpotifyImage[];\r\n      name: string;\r\n      release_date: string;\r\n      release_date_precision: string;\r\n      total_tracks: number;\r\n      type: string;\r\n      uri: string;\r\n    };\r\n    artists: SpotifyArtist[];\r\n    available_markets: string[];\r\n    disc_number: number;\r\n    duration_ms: number;\r\n    explicit: false;\r\n    external_ids: {\r\n      isrc: string;\r\n    };\r\n    external_urls: {\r\n      spotify: string;\r\n    };\r\n    href: string;\r\n    id: string;\r\n    is_local: false;\r\n    name: string;\r\n    popularity: number;\r\n    preview_url: string;\r\n    track_number: number;\r\n    type: string;\r\n    uri: string;\r\n  };\r\n  progress_ms: number;\r\n  repeat_state: string;\r\n  shuffle_state: false;\r\n  timestamp: number;\r\n}\r\n\r\nexport interface SpotifyTrack {\r\n  artists: Pick<SpotifyArtist, 'name' | 'uri' | 'url'>[];\r\n  durationMs: number;\r\n  id: string;\r\n  image: string;\r\n  name: string;\r\n  uri: string;\r\n}\r\n\r\nexport interface WebPlaybackArtist {\r\n  name: string;\r\n  uri: string;\r\n}\r\n","export * from './common';\r\nexport * from './spotify';\r\n","/* eslint-disable camelcase */\r\nimport React, { createRef, PureComponent, ReactNode } from 'react';\r\nimport isEqual from '@gilbarbara/deep-equal';\r\nimport memoize from 'memoize-one';\r\n\r\nimport Actions from './components/Actions';\r\nimport Controls from './components/Controls';\r\nimport Devices from './components/Devices';\r\nimport ErrorMessage from './components/ErrorMessage';\r\nimport Info from './components/Info';\r\nimport Loader from './components/Loader';\r\n// import Player from './components/Player';\r\nimport Volume from './components/Volume';\r\nimport Wrapper from './components/Wrapper';\r\nimport { ERROR_TYPE, STATUS, TYPE } from './constants';\r\nimport { getLocale, getMergedStyles, getSpotifyURIType } from './modules/getters';\r\nimport {\r\n  convertTrack,\r\n  getAlbumImage,\r\n  loadSpotifyPlayer,\r\n  parseVolume,\r\n  round,\r\n  validateURI,\r\n} from './modules/helpers';\r\nimport {\r\n  getDevices,\r\n  getPlaybackState,\r\n  // next,\r\n  pause,\r\n  play,\r\n  // previous,\r\n  seek,\r\n  setDevice,\r\n  setVolume} from './modules/spotify';\r\nimport {\r\n  CallbackState,\r\n  ErrorType,\r\n  Locale,\r\n  PlayOptions,\r\n  Props,\r\n  SpotifyArtist,\r\n  SpotifyDevice,\r\n  SpotifyPlayerCallback,\r\n  SpotifyPlayerStatus,\r\n  State,\r\n  Status,\r\n  StylesOptions,\r\n} from './types';\r\n\r\nclass SpotifyWebPlayer extends PureComponent<Props, State> {\r\n  private isMounted = false;\r\n  private emptyTrack = {\r\n    artists: [] as SpotifyArtist[],\r\n    durationMs: 0,\r\n    id: '',\r\n    image: '',\r\n    name: '',\r\n    uri: '',\r\n  };\r\n\r\n  private locale: Locale;\r\n  private player?: Spotify.Player;\r\n  private playerProgressInterval?: number;\r\n  private playerSyncInterval?: number;\r\n  private ref = createRef<HTMLDivElement>();\r\n  private renderInlineActions = false;\r\n  private resizeTimeout?: number;\r\n  private seekUpdateInterval = 100;\r\n  private styles: StylesOptions;\r\n  private syncTimeout?: number;\r\n\r\n  // eslint-disable-next-line unicorn/consistent-function-scoping\r\n  private getPlayOptions = memoize((data): PlayOptions => {\r\n    const playOptions: PlayOptions = {\r\n      context_uri: undefined,\r\n      uris: undefined,\r\n    };\r\n\r\n    /* istanbul ignore else */\r\n    if (data) {\r\n      const ids = Array.isArray(data) ? data : [data];\r\n\r\n      if (!ids.every(d => validateURI(d))) {\r\n        // eslint-disable-next-line no-console\r\n        console.error('Invalid URI');\r\n\r\n        return playOptions;\r\n      }\r\n\r\n      if (ids.some(d => getSpotifyURIType(d) === 'track')) {\r\n        if (!ids.every(d => getSpotifyURIType(d) === 'track')) {\r\n          // eslint-disable-next-line no-console\r\n          console.warn(\"You can't mix tracks URIs with other types\");\r\n        }\r\n\r\n        playOptions.uris = ids.filter(d => validateURI(d) && getSpotifyURIType(d) === 'track');\r\n      } else {\r\n        if (ids.length > 1) {\r\n          // eslint-disable-next-line no-console\r\n          console.warn(\"Albums, Artists, Playlists and Podcasts can't have multiple URIs\");\r\n        }\r\n\r\n        // eslint-disable-next-line prefer-destructuring\r\n        playOptions.context_uri = ids[0];\r\n      }\r\n    }\r\n\r\n    return playOptions;\r\n  });\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentDeviceId: '',\r\n      deviceId: '',\r\n      devices: [],\r\n      error: '',\r\n      errorType: null,\r\n      isActive: false,\r\n      isInitializing: false,\r\n      isMagnified: false,\r\n      isPlaying: false,\r\n      isSaved: false,\r\n      isUnsupported: false,\r\n      needsUpdate: false,\r\n      nextTracks: [],\r\n      playerPosition: 'bottom',\r\n      position: 0,\r\n      previousTracks: [],\r\n      progressMs: 0,\r\n      status: STATUS.IDLE,\r\n      track: this.emptyTrack,\r\n      volume: parseVolume(props.initialVolume) || 1,\r\n    };\r\n\r\n    this.locale = getLocale(props.locale);\r\n\r\n    this.styles = getMergedStyles(props.styles);\r\n  }\r\n\r\n  // eslint-disable-next-line react/static-property-placement\r\n  static defaultProps = {\r\n    autoPlay: false,\r\n    initialVolume: 1,\r\n    magnifySliderOnHover: false,\r\n    name: 'Spotify Web Player',\r\n    persistDeviceSelection: false,\r\n    showSaveIcon: false,\r\n    syncExternalDeviceInterval: 5,\r\n    syncExternalDevice: false,\r\n  };\r\n\r\n  public async componentDidMount() {\r\n    this.isMounted = true;\r\n    const { top = 0 } = this.ref.current?.getBoundingClientRect() || {};\r\n\r\n    this.updateState({\r\n      playerPosition: top > window.innerHeight / 2 ? 'bottom' : 'top',\r\n      status: STATUS.INITIALIZING,\r\n    });\r\n\r\n    if (!window.onSpotifyWebPlaybackSDKReady) {\r\n      window.onSpotifyWebPlaybackSDKReady = this.initializePlayer;\r\n    } else {\r\n      this.initializePlayer();\r\n    }\r\n\r\n    await loadSpotifyPlayer();\r\n\r\n    window.addEventListener('resize', this.handleResize);\r\n    this.handleResize();\r\n  }\r\n\r\n  public async componentDidUpdate(previousProps: Props, previousState: State) {\r\n    const { currentDeviceId, deviceId, isInitializing, isPlaying, status, track } = this.state;\r\n    const {\r\n      autoPlay,\r\n      layout,\r\n      locale,\r\n      offset,\r\n      play: playProp,\r\n      showSaveIcon,\r\n      styles,\r\n      syncExternalDevice,\r\n      uris,\r\n    } = this.props;\r\n    const isReady = previousState.status !== STATUS.READY && status === STATUS.READY;\r\n    const changedLayout = !isEqual(previousProps.layout, layout);\r\n    const changedLocale = !isEqual(previousProps.locale, locale);\r\n    const changedStyles = !isEqual(previousProps.styles, styles);\r\n    const changedURIs = !isEqual(previousProps.uris, uris);\r\n    const playOptions = this.getPlayOptions(uris);\r\n\r\n    const canPlay = !!currentDeviceId && !!(playOptions.context_uri || playOptions.uris);\r\n    const shouldPlay = isReady && (autoPlay || playProp);\r\n\r\n    if (canPlay && shouldPlay) {\r\n      await this.togglePlay(true);\r\n\r\n      /* istanbul ignore else */\r\n      if (!isPlaying) {\r\n        this.updateState({ isPlaying: true });\r\n      }\r\n\r\n      if (this.isExternalPlayer) {\r\n        this.syncTimeout = window.setTimeout(() => {\r\n          this.syncDevice();\r\n        }, 600);\r\n      }\r\n    } else if (changedURIs) {\r\n      if (isPlaying || playProp) {\r\n        await this.togglePlay(true);\r\n      } else {\r\n        this.updateState({ needsUpdate: true });\r\n      }\r\n    } else if (previousProps.play !== playProp && playProp !== isPlaying) {\r\n      await this.togglePlay(!track.id);\r\n    }\r\n\r\n    if (previousState.status !== status) {\r\n      this.handleCallback({\r\n        ...this.state,\r\n        type: TYPE.STATUS,\r\n      });\r\n    }\r\n\r\n    if (previousState.currentDeviceId !== currentDeviceId && currentDeviceId) {\r\n      if (!isReady) {\r\n        this.handleCallback({\r\n          ...this.state,\r\n          type: TYPE.DEVICE,\r\n        });\r\n      }\r\n\r\n      await this.toggleSyncInterval(this.isExternalPlayer);\r\n      await this.updateSeekBar();\r\n    }\r\n\r\n    if (previousState.track.id !== track.id && track.id) {\r\n      this.handleCallback({\r\n        ...this.state,\r\n        type: TYPE.TRACK,\r\n      });\r\n\r\n      if (showSaveIcon) {\r\n        this.updateState({ isSaved: false });\r\n      }\r\n    }\r\n\r\n    if (previousState.isPlaying !== isPlaying) {\r\n      this.toggleProgressBar();\r\n      await this.toggleSyncInterval(this.isExternalPlayer);\r\n\r\n      this.handleCallback({\r\n        ...this.state,\r\n        type: TYPE.PLAYER,\r\n      });\r\n    }\r\n\r\n    if (previousProps.offset !== offset) {\r\n      await this.toggleOffset();\r\n    }\r\n\r\n    if (previousState.isInitializing && !isInitializing) {\r\n      if (syncExternalDevice && !uris) {\r\n        const player: SpotifyPlayerStatus = await getPlaybackState(this.token);\r\n\r\n        /* istanbul ignore else */\r\n        if (player && player.is_playing && player.device.id !== deviceId) {\r\n          this.setExternalDevice(player.device.id);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (changedLayout) {\r\n      this.handleResize();\r\n    }\r\n\r\n    if (changedLocale) {\r\n      this.locale = getLocale(locale);\r\n    }\r\n\r\n    if (changedStyles) {\r\n      this.styles = getMergedStyles(styles);\r\n    }\r\n  }\r\n\r\n  public async componentWillUnmount() {\r\n    this.isMounted = false;\r\n\r\n    /* istanbul ignore else */\r\n    if (this.player) {\r\n      this.player.disconnect();\r\n    }\r\n\r\n    clearInterval(this.playerSyncInterval);\r\n    clearInterval(this.playerProgressInterval);\r\n    clearTimeout(this.syncTimeout);\r\n\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n\r\n  private handleCallback(state: CallbackState): void {\r\n    const { callback } = this.props;\r\n\r\n    if (callback) {\r\n      callback(state);\r\n    }\r\n  }\r\n\r\n  private handleChangeRange = async (position: number) => {\r\n    const { track } = this.state;\r\n    const { callback } = this.props;\r\n    let progress = 0;\r\n\r\n    try {\r\n      const percentage = position / 100;\r\n\r\n      let stateChanges = {};\r\n\r\n      if (this.isExternalPlayer) {\r\n        progress = Math.round(track.durationMs * percentage);\r\n\r\n        await seek(this.token, progress);\r\n\r\n        stateChanges = {\r\n          position,\r\n          progressMs: progress,\r\n        };\r\n      } else if (this.player) {\r\n        const state = await this.player.getCurrentState();\r\n\r\n        if (state) {\r\n          progress = Math.round(state.track_window.current_track.duration_ms * percentage);\r\n          await this.player.seek(progress);\r\n\r\n          stateChanges = {\r\n            position,\r\n            progressMs: progress,\r\n          };\r\n        } else {\r\n          stateChanges = { position: 0 };\r\n        }\r\n      }\r\n\r\n      this.updateState(stateChanges);\r\n\r\n      if (callback) {\r\n        callback({\r\n          ...this.state,\r\n          ...stateChanges,\r\n          type: TYPE.PROGRESS,\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  // private handleClickTogglePlay = async () => {\r\n  //   const { isActive } = this.state;\r\n\r\n  //   try {\r\n  //     await this.togglePlay(!this.isExternalPlayer && !isActive);\r\n  //   } catch (error) {\r\n  //     // eslint-disable-next-line no-console\r\n  //     console.error(error);\r\n  //   }\r\n  // };\r\n\r\n  // private handleClickPrevious = async () => {\r\n  //   try {\r\n  //     /* istanbul ignore else */\r\n  //     if (this.isExternalPlayer) {\r\n  //       await previous(this.token);\r\n  //       this.syncTimeout = window.setTimeout(() => {\r\n  //         this.syncDevice();\r\n  //       }, 300);\r\n  //     } else if (this.player) {\r\n  //       await this.player.previousTrack();\r\n  //     }\r\n  //   } catch (error) {\r\n  //     // eslint-disable-next-line no-console\r\n  //     console.error(error);\r\n  //   }\r\n  // };\r\n\r\n  // private handleClickNext = async () => {\r\n  //   try {\r\n  //     /* istanbul ignore else */\r\n  //     if (this.isExternalPlayer) {\r\n  //       await next(this.token);\r\n  //       this.syncTimeout = window.setTimeout(() => {\r\n  //         this.syncDevice();\r\n  //       }, 300);\r\n  //     } else if (this.player) {\r\n  //       await this.player.nextTrack();\r\n  //     }\r\n  //   } catch (error) {\r\n  //     // eslint-disable-next-line no-console\r\n  //     console.error(error);\r\n  //   }\r\n  // };\r\n\r\n  private handleClickDevice = async (deviceId: string) => {\r\n    const { isUnsupported } = this.state;\r\n    const { autoPlay, persistDeviceSelection } = this.props;\r\n\r\n    this.updateState({ currentDeviceId: deviceId });\r\n\r\n    try {\r\n      await setDevice(this.token, deviceId);\r\n\r\n      /* istanbul ignore else */\r\n      if (persistDeviceSelection) {\r\n        sessionStorage.setItem('rswpDeviceId', deviceId);\r\n      }\r\n\r\n      /* istanbul ignore else */\r\n      if (isUnsupported) {\r\n        await this.syncDevice();\r\n\r\n        const player: SpotifyPlayerStatus = await getPlaybackState(this.token);\r\n\r\n        if (player && !player.is_playing && autoPlay) {\r\n          await this.togglePlay(true);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  private handleFavoriteStatusChange = (status: boolean) => {\r\n    const { isSaved } = this.state;\r\n\r\n    this.updateState({ isSaved: status });\r\n\r\n    /* istanbul ignore else */\r\n    if (isSaved !== status) {\r\n      this.handleCallback({\r\n        ...this.state,\r\n        isSaved: status,\r\n        type: TYPE.FAVORITE,\r\n      });\r\n    }\r\n  };\r\n\r\n  private handlePlayerErrors = async (type: ErrorType, message: string) => {\r\n    const { status } = this.state;\r\n    const isPlaybackError = type === ERROR_TYPE.PLAYBACK;\r\n    const isInitializationError = type === ERROR_TYPE.INITIALIZATION;\r\n\r\n    let nextStatus = status;\r\n    let devices: SpotifyDevice[] = [];\r\n\r\n    if (this.player && !isPlaybackError) {\r\n      this.player.disconnect();\r\n      this.player = undefined;\r\n    }\r\n\r\n    if (isInitializationError) {\r\n      nextStatus = STATUS.UNSUPPORTED;\r\n\r\n      ({ devices = [] } = await getDevices(this.token));\r\n    } else if (!isPlaybackError) {\r\n      nextStatus = STATUS.ERROR;\r\n    }\r\n\r\n    this.updateState({\r\n      devices,\r\n      error: message,\r\n      errorType: type,\r\n      isInitializing: false,\r\n      isUnsupported: isInitializationError,\r\n      status: nextStatus,\r\n    });\r\n  };\r\n\r\n  private handlePlayerStateChanges = async (state: Spotify.PlaybackState) => {\r\n    try {\r\n      /* istanbul ignore else */\r\n      if (state) {\r\n        const {\r\n          paused,\r\n          position,\r\n          track_window: { current_track, next_tracks, previous_tracks },\r\n        } = state;\r\n\r\n        const isPlaying = !paused;\r\n        const volume = (await this.player?.getVolume()) || 100;\r\n        let trackState = {};\r\n\r\n        if (position === 0 && current_track) {\r\n          trackState = {\r\n            nextTracks: next_tracks.map(convertTrack),\r\n            position: 0,\r\n            previousTracks: previous_tracks.map(convertTrack),\r\n            track: convertTrack(current_track),\r\n          };\r\n        }\r\n\r\n        this.updateState({\r\n          error: '',\r\n          errorType: null,\r\n          isActive: true,\r\n          isPlaying,\r\n          progressMs: position,\r\n          volume: round(volume),\r\n          ...trackState,\r\n        });\r\n      } else if (this.isExternalPlayer) {\r\n        await this.syncDevice();\r\n      } else {\r\n        this.updateState({\r\n          isActive: false,\r\n          isPlaying: false,\r\n          nextTracks: [],\r\n          position: 0,\r\n          previousTracks: [],\r\n          track: {\r\n            artists: [],\r\n            durationMs: 0,\r\n            id: '',\r\n            image: '',\r\n            name: '',\r\n            uri: '',\r\n          },\r\n        });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  private handlePlayerStatus = async ({ device_id }: Spotify.WebPlaybackInstance) => {\r\n    const { currentDeviceId, devices } = await this.initializeDevices(device_id);\r\n\r\n    this.updateState({\r\n      currentDeviceId,\r\n      deviceId: device_id,\r\n      devices,\r\n      isInitializing: false,\r\n      status: device_id ? STATUS.READY : STATUS.IDLE,\r\n    });\r\n  };\r\n\r\n  private handleResize = () => {\r\n    const { layout = 'responsive' } = this.props;\r\n\r\n    clearTimeout(this.resizeTimeout);\r\n\r\n    this.resizeTimeout = window.setTimeout(() => {\r\n      this.renderInlineActions = window.innerWidth >= 768 && layout === 'responsive';\r\n      this.forceUpdate();\r\n    }, 100);\r\n  };\r\n\r\n  private handleToggleMagnify = () => {\r\n    const { magnifySliderOnHover } = this.props;\r\n\r\n    if (magnifySliderOnHover) {\r\n      this.updateState(previousState => {\r\n        return { isMagnified: !previousState.isMagnified };\r\n      });\r\n    }\r\n  };\r\n\r\n  private get token(): string {\r\n    const { token } = this.props;\r\n\r\n    return token;\r\n  }\r\n\r\n  private async initializeDevices(id: string) {\r\n    const { persistDeviceSelection } = this.props;\r\n    const { devices } = await getDevices(this.token);\r\n    let currentDeviceId = id;\r\n\r\n    if (persistDeviceSelection) {\r\n      const savedDeviceId = sessionStorage.getItem('rswpDeviceId');\r\n\r\n      /* istanbul ignore else */\r\n      if (!savedDeviceId || !devices.some((d: SpotifyDevice) => d.id === savedDeviceId)) {\r\n        sessionStorage.setItem('rswpDeviceId', currentDeviceId);\r\n      } else {\r\n        currentDeviceId = savedDeviceId;\r\n      }\r\n    }\r\n\r\n    return { currentDeviceId, devices };\r\n  }\r\n\r\n  private initializePlayer = () => {\r\n    const { volume } = this.state;\r\n    const {\r\n      getOAuthToken = (callback: SpotifyPlayerCallback) => {\r\n        callback(this.token);\r\n      },\r\n      name = 'Spotify Web Player',\r\n    } = this.props;\r\n\r\n    if (!window.Spotify) {\r\n      return;\r\n    }\r\n\r\n    this.updateState({\r\n      error: '',\r\n      errorType: null,\r\n      isInitializing: true,\r\n    });\r\n\r\n    this.player = new window.Spotify.Player({\r\n      getOAuthToken,\r\n      name,\r\n      volume,\r\n    });\r\n\r\n    this.player.addListener('ready', this.handlePlayerStatus);\r\n    this.player.addListener('not_ready', this.handlePlayerStatus);\r\n    this.player.addListener('player_state_changed', this.handlePlayerStateChanges);\r\n    this.player.addListener('initialization_error', error =>\r\n      this.handlePlayerErrors(ERROR_TYPE.INITIALIZATION, error.message),\r\n    );\r\n    this.player.addListener('authentication_error', error =>\r\n      this.handlePlayerErrors(ERROR_TYPE.AUTHENTICATION, error.message),\r\n    );\r\n    this.player.addListener('account_error', error =>\r\n      this.handlePlayerErrors(ERROR_TYPE.ACCOUNT, error.message),\r\n    );\r\n    this.player.addListener('playback_error', error =>\r\n      this.handlePlayerErrors(ERROR_TYPE.PLAYBACK, error.message),\r\n    );\r\n    this.player.addListener('autoplay_failed', async () => {\r\n      // eslint-disable-next-line no-console\r\n      console.log('Autoplay is not allowed by the browser autoplay rules');\r\n    });\r\n\r\n    this.player.connect();\r\n  };\r\n\r\n  private get isExternalPlayer(): boolean {\r\n    const { currentDeviceId, deviceId, status } = this.state;\r\n\r\n    return (currentDeviceId && currentDeviceId !== deviceId) || status === STATUS.UNSUPPORTED;\r\n  }\r\n\r\n  private setExternalDevice = (id: string) => {\r\n    this.updateState({ currentDeviceId: id, isPlaying: true });\r\n  };\r\n\r\n  private setVolume = async (volume: number) => {\r\n\r\n\r\n\r\n    /* istanbul ignore else */\r\n    if (this.isExternalPlayer) {\r\n      await setVolume(this.token, Math.round(volume * 100));\r\n      await this.syncDevice();\r\n    } else if (this.player) {\r\n      await this.player.setVolume(volume);\r\n    }\r\n\r\n    this.updateState({ volume });\r\n  };\r\n\r\n  private syncDevice = async () => {\r\n    if (!this.isMounted) {\r\n      return;\r\n    }\r\n\r\n    const { deviceId } = this.state;\r\n\r\n    try {\r\n      const player: SpotifyPlayerStatus = await getPlaybackState(this.token);\r\n      let track = this.emptyTrack;\r\n\r\n      if (!player) {\r\n        throw new Error('No player');\r\n      }\r\n\r\n      /* istanbul ignore else */\r\n      if (player.item) {\r\n        track = {\r\n          artists: player.item.artists,\r\n          durationMs: player.item.duration_ms,\r\n          id: player.item.id,\r\n          image: getAlbumImage(player.item.album),\r\n          name: player.item.name,\r\n          uri: player.item.uri,\r\n        };\r\n      }\r\n\r\n      this.updateState({\r\n        error: '',\r\n        errorType: null,\r\n        isActive: true,\r\n        isPlaying: player.is_playing,\r\n        nextTracks: [],\r\n        previousTracks: [],\r\n        progressMs: player.item ? player.progress_ms : 0,\r\n        status: STATUS.READY,\r\n        track,\r\n        volume: parseVolume(player.device.volume_percent),\r\n      });\r\n    } catch (error: any) {\r\n      const state = {\r\n        isActive: false,\r\n        isPlaying: false,\r\n        position: 0,\r\n        track: this.emptyTrack,\r\n      };\r\n\r\n      if (deviceId) {\r\n        this.updateState({\r\n          currentDeviceId: deviceId,\r\n          ...state,\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      this.updateState({\r\n        error: error.message,\r\n        errorType: ERROR_TYPE.PLAYER,\r\n        status: STATUS.ERROR,\r\n        ...state,\r\n      });\r\n    }\r\n  };\r\n\r\n  private async toggleSyncInterval(shouldSync: boolean) {\r\n    const { syncExternalDeviceInterval } = this.props;\r\n\r\n    try {\r\n      if (this.isExternalPlayer && shouldSync && !this.playerSyncInterval) {\r\n        await this.syncDevice();\r\n\r\n        clearInterval(this.playerSyncInterval);\r\n        this.playerSyncInterval = window.setInterval(\r\n          this.syncDevice,\r\n          syncExternalDeviceInterval! * 1000,\r\n        );\r\n      }\r\n\r\n      if ((!shouldSync || !this.isExternalPlayer) && this.playerSyncInterval) {\r\n        clearInterval(this.playerSyncInterval);\r\n        this.playerSyncInterval = undefined;\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  private toggleProgressBar() {\r\n    const { isPlaying } = this.state;\r\n\r\n    /* istanbul ignore else */\r\n    if (isPlaying) {\r\n      /* istanbul ignore else */\r\n      if (!this.playerProgressInterval) {\r\n        this.playerProgressInterval = window.setInterval(\r\n          this.updateSeekBar,\r\n          this.seekUpdateInterval,\r\n        );\r\n      }\r\n    } else if (this.playerProgressInterval) {\r\n      clearInterval(this.playerProgressInterval);\r\n      this.playerProgressInterval = undefined;\r\n    }\r\n  }\r\n\r\n  private toggleOffset = async () => {\r\n    const { currentDeviceId } = this.state;\r\n    const { offset, uris } = this.props;\r\n\r\n    if (typeof offset === 'number' && Array.isArray(uris)) {\r\n      await play(this.token, { deviceId: currentDeviceId, offset, uris });\r\n    }\r\n  };\r\n\r\n  private togglePlay = async (force = false) => {\r\n    const { currentDeviceId, isPlaying, needsUpdate } = this.state;\r\n    const { offset, uris } = this.props;\r\n    const shouldInitialize = force || needsUpdate;\r\n    const playOptions = this.getPlayOptions(uris);\r\n\r\n    try {\r\n      /* istanbul ignore else */\r\n      if (this.isExternalPlayer) {\r\n        if (!isPlaying) {\r\n          await play(this.token, {\r\n            deviceId: currentDeviceId,\r\n            offset,\r\n            ...(shouldInitialize ? playOptions : undefined),\r\n          });\r\n        } else {\r\n          await pause(this.token);\r\n\r\n          this.updateState({ isPlaying: false });\r\n        }\r\n\r\n        this.syncTimeout = window.setTimeout(() => {\r\n          this.syncDevice();\r\n        }, 300);\r\n      } else if (this.player) {\r\n        await this.player.activateElement();\r\n\r\n        const playerState = await this.player.getCurrentState();\r\n        const shouldPlay = !playerState && !!(playOptions.context_uri || playOptions.uris);\r\n\r\n        // eslint-disable-next-line unicorn/prefer-ternary\r\n        if (shouldPlay || shouldInitialize) {\r\n          await play(this.token, {\r\n            deviceId: currentDeviceId,\r\n            offset,\r\n            ...(shouldInitialize ? playOptions : undefined),\r\n          });\r\n          await this.player.togglePlay();\r\n        } else {\r\n          await this.player.togglePlay();\r\n        }\r\n      }\r\n\r\n      if (needsUpdate) {\r\n        this.updateState({ needsUpdate: false });\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  private updateSeekBar = async () => {\r\n    if (!this.isMounted) {\r\n      return;\r\n    }\r\n\r\n    const { progressMs, track } = this.state;\r\n\r\n    try {\r\n      /* istanbul ignore else */\r\n      if (this.isExternalPlayer) {\r\n        let position = progressMs / track.durationMs;\r\n\r\n        position = Number(((Number.isFinite(position) ? position : 0) * 100).toFixed(1));\r\n\r\n        this.updateState({\r\n          position,\r\n          progressMs: progressMs + this.seekUpdateInterval,\r\n        });\r\n      } else if (this.player) {\r\n        const state = await this.player.getCurrentState();\r\n\r\n        /* istanbul ignore else */\r\n        if (state) {\r\n          const progress = state.position;\r\n          const position = Number(\r\n            ((progress / state.track_window.current_track.duration_ms) * 100).toFixed(1),\r\n          );\r\n\r\n          this.updateState({\r\n            position,\r\n            progressMs: progress + this.seekUpdateInterval,\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      // eslint-disable-next-line no-console\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  private updateState: typeof this.setState = state => {\r\n    if (!this.isMounted) {\r\n      return;\r\n    }\r\n\r\n    this.setState(state);\r\n  };\r\n\r\n  public render() {\r\n    const {\r\n      currentDeviceId,\r\n      deviceId,\r\n      devices,\r\n      error,\r\n      isActive,\r\n      isMagnified,\r\n      // isPlaying,\r\n      isUnsupported,\r\n      // nextTracks,\r\n      playerPosition,\r\n      position,\r\n      // previousTracks,\r\n      progressMs,\r\n      status,\r\n      track,\r\n      volume,\r\n    } = this.state;\r\n    const {\r\n      hideAttribution = false,\r\n      hideCoverArt = false,\r\n      inlineVolume = true,\r\n      layout = 'responsive',\r\n      showSaveIcon,\r\n      updateSavedStatus,\r\n    } = this.props;\r\n    const isReady = ([STATUS.READY, STATUS.UNSUPPORTED] as Status[]).includes(status);\r\n\r\n    const output: Record<string, ReactNode> = {\r\n      main: <Loader styles={this.styles} />,\r\n    };\r\n\r\n    if (isReady) {\r\n      /* istanbul ignore else */\r\n      if (!output.info) {\r\n        output.info = (\r\n          <Info\r\n            hideAttribution={hideAttribution}\r\n            hideCoverArt={hideCoverArt}\r\n            isActive={isActive}\r\n            layout={layout}\r\n            locale={this.locale}\r\n            onFavoriteStatusChange={this.handleFavoriteStatusChange}\r\n            showSaveIcon={showSaveIcon!}\r\n            styles={this.styles}\r\n            token={this.token}\r\n            track={track}\r\n            updateSavedStatus={updateSavedStatus}\r\n          />\r\n        );\r\n      }\r\n\r\n      output.devices = (\r\n        <Devices\r\n          currentDeviceId={currentDeviceId}\r\n          deviceId={deviceId}\r\n          devices={devices}\r\n          layout={layout}\r\n          locale={this.locale}\r\n          onClickDevice={this.handleClickDevice}\r\n          open={isUnsupported && !deviceId}\r\n          playerPosition={playerPosition}\r\n          styles={this.styles}\r\n        />\r\n      );\r\n\r\n      output.volume = currentDeviceId ? (\r\n        <Volume\r\n          inlineVolume={inlineVolume}\r\n          layout={layout}\r\n          locale={this.locale}\r\n          playerPosition={playerPosition}\r\n          setVolume={this.setVolume}\r\n          styles={this.styles}\r\n          volume={volume}\r\n        />\r\n      ) : null;\r\n\r\n      if (this.renderInlineActions) {\r\n        output.actions = (\r\n          <Actions layout={layout} styles={this.styles}>\r\n            {output.devices}\r\n            {output.volume}\r\n          </Actions>\r\n        );\r\n      }\r\n\r\n      output.controls = (\r\n        <Controls\r\n          // devices={this.renderInlineActions ? null : output.devices}\r\n          durationMs={track.durationMs}\r\n          // isExternalDevice={this.isExternalPlayer}\r\n          isMagnified={isMagnified}\r\n          // isPlaying={isPlaying}\r\n          // layout={layout}\r\n          // locale={this.locale}\r\n          // nextTracks={nextTracks}\r\n          onChangeRange={this.handleChangeRange}\r\n          // onClickNext={this.handleClickNext}\r\n          // onClickPrevious={this.handleClickPrevious}\r\n          // onClickTogglePlay={this.handleClickTogglePlay}\r\n          onToggleMagnify={this.handleToggleMagnify}\r\n          position={position}\r\n          // previousTracks={previousTracks}\r\n          progressMs={progressMs}\r\n          styles={this.styles}\r\n          // volume={this.renderInlineActions ? null : output.volume}\r\n        />\r\n      );\r\n\r\n      output.main = (\r\n        <Wrapper layout={layout} styles={this.styles}>\r\n          {/* {output.info} */}\r\n          {output.controls}\r\n          {/* {output.actions} */}\r\n        </Wrapper>\r\n      );\r\n    } else if (output.info) {\r\n      output.main = output.info;\r\n    }\r\n\r\n    if (status === STATUS.ERROR) {\r\n      output.main = <ErrorMessage styles={this.styles}>{error}</ErrorMessage>;\r\n    }\r\n\r\n    return (\r\n      // <Player ref={this.ref} data-ready={isReady} styles={this.styles}>\r\n      <div>\r\n        {output.main}\r\n      </div>\r\n\r\n      // </Player> \r\n    );\r\n  }\r\n}\r\n\r\nexport * from './types';\r\nexport { ERROR_TYPE, STATUS, TYPE } from './constants';\r\n\r\nexport default SpotifyWebPlayer;\r\n","\r\n\r\nimport React ,{lazy} from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\n\r\nconst SpotifyWebPlayer = lazy(() => import('./SpotifyWebPlayer'));\r\n\r\nReactDOM.createRoot(document.getElementById('root') as HTMLElement).render(\r\n  <div>\r\n    <SpotifyWebPlayer token='BQDTSGraQFTrATgiezQgs2x_lI2FMaWXBIt033meTvbijs_ITvWOzEQtWq2UFb7mUF9ZAxGsdxLU4cji-Wqi_q_1Lf-zdagVQJlZarnuUgovyewG6VyF8Iispw5RJMBAvz6bNPicH4yFx7rLNRQEGdf5Jv2revag57ZLbyIyznWlSL6zAPXUcEH9HwNxQC_0ix3l0_exMBpkvlhoL_HDgUBd9NCc9RQAbP6sZ8KKFSy6qAlADKe4SdtilWd49GNyps_L3ywxxWdWnWO2QBhXRpSj6EIvYe7tn1ewUeP9qLXix0hOxe6GizUq1l26SZ-Z'\r\n    uris={[\"spotify:track:3zYpRGnnoegSpt3SguSo3W\"]}  \r\n    />\r\n  </div>,\r\n)\r\n"],"mappings":"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","names":["React","memo","Wrapper","React","memo","React","memo","React","React","React","React","React","Wrapper","init_Devices","React","Wrapper","React","React","React","useEffect","useRef","useState","React","memo","useEffect","useRef","useState","Wrapper","React","Wrapper","React","React","React","VolumeHigh","React","React","useCallback","useEffect","useRef","useState","RangeSlider","setVolume","VolumeHigh","React","memo","Wrapper","init_spotify","init_spotify","React","init_Devices","React","SpotifyWebPlayer"]}